<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Histology: Urinary System Quiz</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --success: #10b981;
            --error: #ef4444;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-sub: #6b7280;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        /* Container & Card */
        .quiz-container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            max-height: 90vh;
        }

        /* Header */
        .header {
            padding: 1.5rem;
            background: var(--primary);
            color: white;
            text-align: center;
        }

        .header h1 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .progress-bar-bg {
            background: rgba(255, 255, 255, 0.3);
            height: 6px;
            border-radius: 3px;
            width: 100%;
            margin-top: 10px;
        }

        .progress-bar-fill {
            background: #ffffff;
            height: 100%;
            border-radius: 3px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .stats {
            font-size: 0.875rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        /* Question Area */
        .scroll-area {
            overflow-y: auto;
            padding: 1.5rem;
            flex-grow: 1;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            color: var(--text-main);
        }

        /* Options */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option-btn {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            text-align: left;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-main);
            position: relative;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: #eff6ff;
        }

        .option-btn.correct {
            border-color: var(--success);
            background: #ecfdf5;
            color: #065f46;
        }

        .option-btn.wrong {
            border-color: var(--error);
            background: #fef2f2;
            color: #991b1b;
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* Explanation */
        .explanation {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f8fafc;
            border-left: 4px solid var(--primary);
            border-radius: 4px;
            display: none;
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-sub);
        }

        .explanation strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-main);
        }

        /* Footer */
        .footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            background: white;
        }

        .next-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            display: none;
        }

        .next-btn:hover {
            background: var(--primary-dark);
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
            padding: 2rem;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .score-number {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .score-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .restart-btn {
            margin-top: 1rem;
            background: var(--text-main);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        /* Mobile Typography adjustments */
        @media (max-width: 480px) {
            .header h1 { font-size: 1.1rem; }
            .question-text { font-size: 1rem; }
            .option-btn { padding: 0.875rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <!-- Quiz Screen -->
    <div id="quiz-screen">
        <div class="header">
            <h1>Urinary System Histology</h1>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="progress-fill"></div>
            </div>
            <div class="stats">
                Question <span id="current-q">1</span> of <span id="total-q">60</span>
            </div>
        </div>

        <div class="scroll-area">
            <div class="question-text" id="question-text">
                <!-- Question goes here -->
            </div>
            <div class="options-grid" id="options-container">
                <!-- Options generated by JS -->
            </div>
            <div class="explanation" id="explanation">
                <!-- Explanation text -->
            </div>
        </div>

        <div class="footer">
            <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next Question</button>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="results-screen">
        <div class="score-circle">
            <span class="score-number" id="final-score">0</span>
            <span class="score-label">Score</span>
        </div>
        <h2>Quiz Completed!</h2>
        <p style="margin: 1rem 0; color: var(--text-sub);">Based on Medical Histology Ch. 20</p>
        <button class="restart-btn" onclick="location.reload()">Restart Quiz</button>
    </div>
</div>

<script>
    // Data Source: 60 Questions derived exactly from the provided text pages.
    const quizData = [
        {
            question: "According to the text, what occupies the scanty space between the nephrons and collecting tubules?",
            options: [
                "Loose areolar tissue and lymphatics",
                "Peritubular blood capillaries and interstitial connective tissue",
                "Renal fibroblasts and dense connective tissue",
                "Adipose tissue and capillary networks"
            ],
            correct: 1,
            explanation: "The text states: 'The scanty space between the nephrons and collecting tubules is occupied by peritubular blood capillaries and interstitial connective tissue of the kidney.'"
        },
        {
            question: "How many major segments does a nephron consist of?",
            options: [
                "3 major segments",
                "4 major segments",
                "5 major segments",
                "6 major segments"
            ],
            correct: 2,
            explanation: "Text: 'A nephron consists of 5 major segments: (1) renal corpuscle, (2) proximal tubule, (3) loop of Henle, (4) distal tubule, and (5) connecting tubule.'"
        },
        {
            question: "Where are all renal corpuscles located?",
            options: [
                "In the renal medulla",
                "In the renal cortex",
                "At the corticomedullary junction only",
                "In the renal pelvis"
            ],
            correct: 1,
            explanation: "Text: 'All the renal corpuscles are located in the renal cortex.'"
        },
        {
            question: "Which segment of the nephron enters the renal medulla?",
            options: [
                "Proximal convoluted tubule",
                "Distal convoluted tubule",
                "Proximal straight tubule",
                "Connecting tubule"
            ],
            correct: 2,
            explanation: "Text: '...a shorter, straight part called proximal straight tubule, which enters the renal medulla.'"
        },
        {
            question: "The connecting tubule is also called the:",
            options: [
                "Papillary duct",
                "Cortical collecting tubule",
                "Medullary collecting tubule",
                "Distal straight tubule"
            ],
            correct: 1,
            explanation: "Text: 'The Connecting Tubule. This terminal segment of the nephron, also called cortical collecting tubule...'"
        },
        {
            question: "Regarding superficial cortical nephrons, which statement is exactly correct according to the text?",
            options: [
                "They have long loops of Henle extending deep into the medulla.",
                "They have short loops of Henle, which do not extend beyond the outer part of the renal medulla.",
                "They have renal corpuscles situated in the middle part of the renal cortex.",
                "They constitute the majority of nephrons in the medulla."
            ],
            correct: 1,
            explanation: "Text: 'The superficial cortical nephrons... have short loops of Henle, which do not extend beyond the outer part of the renal medulla.'"
        },
        {
            question: "Where are the renal corpuscles of juxtamedullary nephrons located?",
            options: [
                "In the middle part of the renal cortex",
                "In the deepest part of the renal cortex in close proximity to the base of a medullary pyramid",
                "In the outer part of the renal cortex",
                "Within the renal medulla itself"
            ],
            correct: 1,
            explanation: "Text: 'The juxtamedullary nephrons have their renal corpuscles located in the deepest part of the renal cortex in close proximity to the base of a medullary pyramid.'"
        },
        {
            question: "What is the diameter range of renal corpuscles?",
            options: [
                "100 to 150 µm",
                "200 to 250 µm",
                "50 to 100 µm",
                "300 to 400 µm"
            ],
            correct: 1,
            explanation: "Text: 'The renal corpuscles are spherical bodies, ranging from 200 to 250 µm in diameter.'"
        },
        {
            question: "The parietal layer of Bowman's capsule consists of:",
            options: [
                "Simple cuboidal epithelium",
                "Specialized epithelial cells called podocytes",
                "Simple squamous epithelium",
                "Stratified squamous epithelium"
            ],
            correct: 2,
            explanation: "Text: 'The parietal layer of Bowman's capsule consists of a simple squamous epithelium.'"
        },
        {
            question: "The visceral layer of Bowman's capsule is composed of:",
            options: [
                "Simple squamous epithelium",
                "Mesangial cells",
                "Podocytes",
                "Endothelial cells"
            ],
            correct: 2,
            explanation: "Text: 'Its composed of a single layer of specialized epithelial cells called podocytes, which are highly modified to perform a filtering function.'"
        },
        {
            question: "Which cytoskeletal elements are found in the cell body and processes of podocytes?",
            options: [
                "Only microtubules",
                "Only actin filaments",
                "Microtubules and actin filaments",
                "Intermediate filaments and keratin"
            ],
            correct: 2,
            explanation: "Text: 'Numerous microtubules and actin filaments are found in the cell body and in the primary and secondary processes.'"
        },
        {
            question: "What is the average width of the filtration slits?",
            options: [
                "20 nm",
                "40 nm",
                "70 nm",
                "90 nm"
            ],
            correct: 1,
            explanation: "Text: 'The foot processes... leave between them very narrow gaps called filtration slits, which have an average width of only 40 nm.'"
        },
        {
            question: "The slit diaphragm is a porous sheet composed of a special protein called:",
            options: [
                "Nephrin",
                "Podocalyxin",
                "P-cadherin",
                "Albumin"
            ],
            correct: 0,
            explanation: "Text: 'Each slit diaphragm is a porous sheet which is composed of a special protein called nephrin.'"
        },
        {
            question: "The slit diaphragms allow passage of small molecules but restrict the passage of:",
            options: [
                "Water and electrolytes",
                "Macromolecules like serum albumin and gamma globulin",
                "Glucose and amino acids",
                "Urea and creatinine"
            ],
            correct: 1,
            explanation: "Text: '...restrict the passage of macromolecules like serum albumin and gamma globulin. The slit diaphragms are an important component of the filtration barrier.'"
        },
        {
            question: "What is the thickness of the Glomerular Basement Membrane (GBM)?",
            options: [
                "0.1 to 0.5 µm",
                "0.1 to 0.35 µm",
                "1 to 2 µm",
                "200 to 250 nm"
            ],
            correct: 1,
            explanation: "Text: 'The GBM is thick (0.1 to 0.35 µm) and consists of a central electron-dense layer...'"
        },
        {
            question: "What prevents the passage of negatively charged proteins through the GBM?",
            options: [
                "The physical pore size only",
                "The presence of heparan sulfate (a polyanion)",
                "The slit diaphragms",
                "The endothelial fenestrae"
            ],
            correct: 1,
            explanation: "Text: '...rich in heparan sulfate (a polyanion). The anionic charges of the heparan sulfate repel the negatively charged protein molecules...'"
        },
        {
            question: "The glomerular capillaries are of the fenestrated type. What is the diameter of these fenestrae?",
            options: [
                "40 to 60 nm",
                "70 to 90 nm",
                "100 to 120 nm",
                "10 to 20 nm"
            ],
            correct: 1,
            explanation: "Text: 'The endothelium of the glomerular capillaries is of the fenestrated type... The fenestrae measure 70 to 90 nm in diameter...'"
        },
        {
            question: "Mesangial cells are enclosed by:",
            options: [
                "The parietal layer of Bowman's capsule",
                "The Glomerular Basement Membrane (GBM)",
                "The podocyte foot processes",
                "A simple squamous epithelium"
            ],
            correct: 1,
            explanation: "Text: '...the mesangial cells are enclosed by the GBM.'"
        },
        {
            question: "The cytoplasm of mesangial cells contains bundles of actin and myosin filaments, indicating they have the ability to:",
            options: [
                "Secrete renin",
                "Contract",
                "Transport water",
                "Divide rapidly"
            ],
            correct: 1,
            explanation: "Text: 'The cytoplasm of the mesangial cells contains bundles of the actin and myosin filaments, indicating that these cells have the ability to contract.'"
        },
        {
            question: "Which of the following is NOT listed as a function of mesangial cells in the text?",
            options: [
                "Phagocytosis of unwanted macromolecules",
                "Structural support for the glomerular capillaries",
                "Secretion of renin",
                "Secretion of cytokines and other substances"
            ],
            correct: 2,
            explanation: "Text lists: Phagocytosis, Structural support, Secretion of cytokines, Regulation of glomerular blood flow. Renin is secreted by JG cells."
        },
        {
            question: "What is the average length of the Proximal Convoluted Tubule (PCT)?",
            options: [
                "5 mm",
                "14 mm",
                "20 mm",
                "40 mm"
            ],
            correct: 1,
            explanation: "Text: '...average length of 14 mm.'"
        },
        {
            question: "The luminal surface of PCT cells bears:",
            options: [
                "Short, sparse microvilli",
                "Densely-packed, long microvilli covered by a thick layer of glycocalyx",
                "Cilia",
                "No microvilli"
            ],
            correct: 1,
            explanation: "Text: 'The luminal surface of the cells bears densely-packed, long microvilli which are covered by a thick layer of glycocalyx.'"
        },
        {
            question: "Under LM, the brush border of PCT in histological sections generally gives a:",
            options: [
                "Clear, distinct line",
                "Fuzz-filled appearance",
                "Striated appearance",
                "Smooth surface"
            ],
            correct: 1,
            explanation: "Text: '...the lumen of the PCT generally give a fuzz-filled appearance. This is because during processing... the brush border usually disintegrates...'"
        },
        {
            question: "In PCT cells, mitochondria are aligned in rows between invaginations of the basal plasmalemma. This is seen in LM as:",
            options: [
                "Basal striations",
                "Apical canaliculi",
                "Lateral interdigitations",
                "Granular cytoplasm"
            ],
            correct: 0,
            explanation: "Text: 'Mitochondria are aligned in rows between these invaginations and this arrangement is seen in the LM as eosinophilic basal striations.'"
        },
        {
            question: "What increases the capability of the PCT to endocytose small proteins?",
            options: [
                "Basal striations",
                "Apical canaliculi",
                "Lateral interdigitations",
                "Sodium pumps"
            ],
            correct: 1,
            explanation: "Text: 'The apical plasmalemma... shows small invaginations... called apical canaliculi. These canaliculi increase the capability of the PCT to endocytose small proteins...'"
        },
        {
            question: "The chief function of the PCT is reabsorption of:",
            options: [
                "85% of sodium and water",
                "About 60% of the glomerular filtrate",
                "Only glucose and amino acids",
                "100% of the water"
            ],
            correct: 1,
            explanation: "Text: 'The chief function of the PCT is reabsorption of about 60% of the glomerular filtrate.'"
        },
        {
            question: "Sodium pumps located in the lateral folds of the PCT transport sodium into the:",
            options: [
                "Tubular lumen",
                "Lateral intercellular space",
                "Apical canaliculi",
                "Lysosomes"
            ],
            correct: 1,
            explanation: "Text: 'Sodium pumps located in the lateral folds... transport sodium into the lateral intercellular space...'"
        },
        {
            question: "Proteins present in the glomerular filtrate are generally degraded by peptidases present in the:",
            options: [
                "Lysosomes",
                "Glycocalyx coat covering the luminal plasmalemma",
                "Basal lamina",
                "Endothelial fenestrae"
            ],
            correct: 1,
            explanation: "Text: 'Small proteins... are generally degraded by the peptidases present in the glycocalyx coat covering the luminal plasmalemma...'"
        },
        {
            question: "Which substances are secreted by PCT cells into the filtrate?",
            options: [
                "Glucose and amino acids",
                "Bile salts, oxalate, urate, and many drugs",
                "Sodium and chloride",
                "Albumin and globulin"
            ],
            correct: 1,
            explanation: "Text: 'Such substances include bile salts, oxalate, urate, and many drugs.'"
        },
        {
            question: "How does the Proximal Straight Tubule differ from the PCT structurally?",
            options: [
                "It has more mitochondria",
                "It has a less developed brush border and fewer mitochondria",
                "It lacks a brush border entirely",
                "It has no basal infoldings"
            ],
            correct: 1,
            explanation: "Text: 'The cells of this segment are shorter, have a less well-developed brush border, and fewer mitochondria.'"
        },
        {
            question: "The thin descending segment of the Loop of Henle is highly permeable to:",
            options: [
                "Salt but not water",
                "Water",
                "Proteins",
                "Urea only"
            ],
            correct: 1,
            explanation: "Text: 'The thin descending segment is highly permeable to water...'"
        },
        {
            question: "The thick ascending segment of the Loop of Henle is lined by:",
            options: [
                "Simple squamous epithelium",
                "Simple cuboidal epithelium",
                "Simple columnar epithelium",
                "Transitional epithelium"
            ],
            correct: 1,
            explanation: "Text: 'This segment is lined by simple cuboidal epithelium.'"
        },
        {
            question: "The thick ascending segment actively transports which ions from the lumen to the interstitium?",
            options: [
                "Hydrogen and Bicarbonate",
                "Sodium and Chloride",
                "Potassium and Calcium",
                "Urea and Water"
            ],
            correct: 1,
            explanation: "Text: 'The cuboidal cells... actively transport sodium and chloride ions from the lumen...'"
        },
        {
            question: "The thick ascending segment is impermeable to:",
            options: [
                "Sodium",
                "Chloride",
                "Water",
                "Potassium"
            ],
            correct: 2,
            explanation: "Text: 'However, this segment is impermeable to water.'"
        },
        {
            question: "What is the average length of the Distal Convoluted Tubule (DCT)?",
            options: [
                "14 mm",
                "5 mm",
                "20 mm",
                "40 mm"
            ],
            correct: 1,
            explanation: "Text: 'The average length of a DCT is 5 mm, which is much shorter than that of the PCT...'"
        },
        {
            question: "Why is the caliber (luminal diameter) of the DCT larger than that of the PCT?",
            options: [
                "DCT cells are larger",
                "DCT cells are lower in height and possess very short/sparse microvilli",
                "DCT has a thick brush border",
                "DCT is distended by urine"
            ],
            correct: 1,
            explanation: "Text: '...the DCT cells are smaller... and, therefore, low in height; and (2) the DCT cells possess very short and sparse microvilli...'"
        },
        {
            question: "In the early DCT, the process of reabsorption of sodium and secretion of potassium is controlled by:",
            options: [
                "Antidiuretic hormone (ADH)",
                "Aldosterone",
                "Renin",
                "Erythropoietin"
            ],
            correct: 1,
            explanation: "Text: 'The process of reabsorption of sodium and secretion of potassium is controlled by the adrenal hormone aldosterone.'"
        },
        {
            question: "The macula densa is formed by cells in which part of the nephron?",
            options: [
                "Proximal Convoluted Tubule",
                "Thick ascending segment of the Loop of Henle / Early DCT",
                "Collecting Duct",
                "Thin descending segment"
            ],
            correct: 1,
            explanation: "Text: '...the initial part of the distal tubule... lies close to the vascular pole... The cells of the distal tubule in this region become tall, columnar... to form the macula densa.'"
        },
        {
            question: "The Juxtaglomerular (JG) cells are modified smooth muscle cells located in the:",
            options: [
                "Efferent arteriole wall",
                "Tunica media of the afferent arteriole",
                "Macula densa",
                "Glomerular capillaries"
            ],
            correct: 1,
            explanation: "Text: '...modified smooth muscle cells located in the tunica media of the afferent arteriole.'"
        },
        {
            question: "JG cells secrete the enzyme renin. What does renin do?",
            options: [
                "Converts Angiotensin I to Angiotensin II",
                "Causes hydrolysis of the plasma protein angiotensinogen to produce angiotensin I",
                "Directly causes vasoconstriction",
                "Stimulates erythropoiesis"
            ],
            correct: 1,
            explanation: "Text: 'The renin causes hydrolysis of the plasma protein angiotensinogen to produce angiotensin I...'"
        },
        {
            question: "The cortical collecting tubules are lined by a simple cuboidal epithelium containing which two types of cells?",
            options: [
                "Podocytes and Mesangial cells",
                "Principal cells and Intercalated cells",
                "Squamous and Columnar cells",
                "Fibroblasts and Macrophages"
            ],
            correct: 1,
            explanation: "Text: '...simple cuboidal epithelium which contains two types of cells; principal cells and intercalated cells.'"
        },
        {
            question: "In principal cells, the basal plasmalemma shows numerous infoldings. These cells absorb:",
            options: [
                "Hydrogen ions",
                "Water and sodium",
                "Bicarbonate",
                "Glucose"
            ],
            correct: 1,
            explanation: "Text: 'The principal cells absorb water and sodium from the filtrate and secrete potassium ions into it.'"
        },
        {
            question: "Type A intercalated cells secrete:",
            options: [
                "Bicarbonate",
                "Hydrogen ions",
                "Sodium",
                "Potassium"
            ],
            correct: 1,
            explanation: "Text: 'In conditions of acidosis, the type A intercalated cells secrete hydrogen ions into the urinary filtrate and absorb bicarbonate.'"
        },
        {
            question: "Type B intercalated cells are active during:",
            options: [
                "Acidosis",
                "Alkalosis",
                "Dehydration",
                "Hypertension"
            ],
            correct: 1,
            explanation: "Text: 'In case of alkalosis, the type B intercalated cells secrete bicarbonate and reabsorb hydrogen ions.'"
        },
        {
            question: "Aquaporin-2 (AQP2) channels are stored within membranous vesicles in the cytoplasm of:",
            options: [
                "Intercalated cells",
                "Principal cells",
                "Podocytes",
                "JG cells"
            ],
            correct: 1,
            explanation: "Text: 'Under ordinary conditions... AQP2 molecules remain stored within membranous vesicles in the cytoplasm of the principal cells.'"
        },
        {
            question: "Medullipin I is produced by renal fibroblasts and converted to Medullipin II in the liver. Medullipin II is a:",
            options: [
                "Vasoconstrictor",
                "Vasodilator which causes blood pressure to fall",
                "Stimulator of erythropoiesis",
                "Diuretic"
            ],
            correct: 1,
            explanation: "Text: 'The medullipin II is a vasodilator which causes the blood pressure to fall.'"
        },
        {
            question: "The mucosa of the ureter is lined by:",
            options: [
                "Simple columnar epithelium",
                "Stratified squamous epithelium",
                "Transitional epithelium",
                "Pseudostratified columnar epithelium"
            ],
            correct: 2,
            explanation: "Text: 'The mucosa is lined by the transitional epithelium consisting of 3 to 5 cell layers.'"
        },
        {
            question: "In the upper two-thirds of the ureter, the muscularis consists of:",
            options: [
                "Inner longitudinal and outer circular layers",
                "Inner circular and outer longitudinal layers",
                "Three layers: Inner longitudinal, middle circular, outer longitudinal",
                "A single layer of smooth muscle"
            ],
            correct: 0,
            explanation: "Text: '...inner longitudinal and outer circular layers.'"
        },
        {
            question: "In transverse sections of an empty ureter, the lumen appears:",
            options: [
                "Circular",
                "Star-shaped",
                "Flattened",
                "Triangular"
            ],
            correct: 1,
            explanation: "Text: 'The mucosa of the empty ureter is thrown into folds, due to which the lumen appears star-shaped in transverse sections.'"
        },
        {
            question: "The ill-defined, intermingling layers of smooth muscle in the bladder wall are collectively known as:",
            options: [
                "Sphincter urethrae",
                "Trigone muscle",
                "Detrusor muscle",
                "Dartos muscle"
            ],
            correct: 2,
            explanation: "Text: '...collectively known as detrusor muscle (i.e., pushing muscle).'"
        },
        {
            question: "Only the superior surface of the urinary bladder is covered by:",
            options: [
                "Adventitia",
                "Serosa formed by peritoneum",
                "Fascia",
                "Transitional epithelium"
            ],
            correct: 1,
            explanation: "Text: 'Only the superior surface of the urinary bladder is covered by a serosa formed by the peritoneum...'"
        },
        {
            question: "The distal part of the female urethra is lined by:",
            options: [
                "Transitional epithelium",
                "Stratified squamous nonkeratinized epithelium",
                "Stratified columnar epithelium",
                "Simple cuboidal epithelium"
            ],
            correct: 1,
            explanation: "Text: '...while its distal part is lined by stratified squamous nonkeratinized epithelium.'"
        },
        {
            question: "The male urethra is divided into three segments. Which is NOT one of them?",
            options: [
                "Prostatic urethra",
                "Membranous urethra",
                "Penile urethra",
                "Bulbar urethra"
            ],
            correct: 3,
            explanation: "Text: 'The male urethra is divided into three segments: prostatic urethra, membranous urethra, and penile urethra.'"
        },
        {
            question: "The prostatic urethra is lined by:",
            options: [
                "Stratified columnar epithelium",
                "Transitional epithelium",
                "Stratified squamous epithelium",
                "Simple columnar epithelium"
            ],
            correct: 1,
            explanation: "Text: 'It is lined by transitional epithelium.'"
        },
        {
            question: "Which part of the male urethra passes through the urogenital diaphragm?",
            options: [
                "Prostatic urethra",
                "Membranous urethra",
                "Penile urethra",
                "Spongy urethra"
            ],
            correct: 1,
            explanation: "Text: 'The membranous urethra... passes through the skeletal musculature of the urogenital diaphragm.'"
        },
        {
            question: "The membranous urethra is lined by:",
            options: [
                "Transitional epithelium",
                "Stratified columnar epithelium interspersed with patches of pseudostratified columnar epithelium",
                "Stratified squamous nonkeratinized epithelium",
                "Simple cuboidal epithelium"
            ],
            correct: 1,
            explanation: "Text: 'It is lined by stratified columnar epithelium interspersed with patches of pseudostratified columnar epithelium.'"
        },
        {
            question: "The penile urethra runs through the penis to open at the:",
            options: [
                "Internal urethral orifice",
                "External urethral orifice",
                "Ejaculatory duct",
                "Prostatic utricle"
            ],
            correct: 1,
            explanation: "Text: 'The penile urethra... runs through the penis to open at the external urethral orifice.'"
        },
        {
            question: "Mucous glands located in the lamina propria of the penile urethra are known as:",
            options: [
                "Glands of Littre",
                "Cowper's glands",
                "Brunner's glands",
                "Prostate glands"
            ],
            correct: 0,
            explanation: "Text: 'Mucous glands are located in the lamina propria of the penile urethra... These are known as glands of Littre.'"
        },
        {
            question: "The navicular fossa is lined by:",
            options: [
                "Transitional epithelium",
                "Stratified columnar epithelium",
                "Stratified squamous nonkeratinized epithelium",
                "Simple squamous epithelium"
            ],
            correct: 2,
            explanation: "Text: '...except at its distal dilated part (fossa navicularis) which is lined by stratified squamous nonkeratinized epithelium.'"
        },
        {
            question: "What is the function of the secretion from the glands of Littre?",
            options: [
                "To activate sperm",
                "To lubricate the urethral lining in anticipation of ejaculation",
                "To neutralize urine acidity only",
                "To prevent infection"
            ],
            correct: 1,
            explanation: "Text: 'These secretions... serve to lubricate the urethral lining in anticipation of ejaculation.'"
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    // Elements
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const explanationDiv = document.getElementById('explanation');
    const nextBtn = document.getElementById('next-btn');
    const progressFill = document.getElementById('progress-fill');
    const currentQSpan = document.getElementById('current-q');
    const totalQSpan = document.getElementById('total-q');
    const finalScoreSpan = document.getElementById('final-score');

    // Initialize
    function initQuiz() {
        totalQSpan.innerText = quizData.length;
        loadQuestion();
    }

    function loadQuestion() {
        const q = quizData[currentQuestionIndex];
        answered = false;
        
        // Update UI
        currentQSpan.innerText = currentQuestionIndex + 1;
        const progress = ((currentQuestionIndex) / quizData.length) * 100;
        progressFill.style.width = `${progress}%`;
        
        questionText.innerText = q.question;
        explanationDiv.style.display = 'none';
        nextBtn.style.display = 'none';
        optionsContainer.innerHTML = '';

        q.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.classList.add('option-btn');
            btn.innerText = opt;
            btn.onclick = () => selectOption(index, btn);
            optionsContainer.appendChild(btn);
        });
    }

    function selectOption(selectedIndex, btn) {
        if (answered) return;
        answered = true;

        const q = quizData[currentQuestionIndex];
        const allOptions = optionsContainer.children;

        // Highlight selected
        if (selectedIndex === q.correct) {
            btn.classList.add('correct');
            score++;
        } else {
            btn.classList.add('wrong');
            // Show correct answer
            allOptions[q.correct].classList.add('correct');
        }

        // Disable all
        for (let i = 0; i < allOptions.length; i++) {
            allOptions[i].disabled = true;
        }

        // Show explanation and next button
        explanationDiv.innerHTML = `<strong>Explanation:</strong> ${q.explanation}`;
        explanationDiv.style.display = 'block';
        nextBtn.style.display = 'inline-block';
        
        // Auto scroll to bottom
        setTimeout(() => {
            nextBtn.scrollIntoView({ behavior: 'smooth' });
        }, 100);
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizData.length) {
            loadQuestion();
            quizScreen.scrollTop = 0; // Scroll to top
        } else {
            showResults();
        }
    }

    function showResults() {
        quizScreen.style.display = 'none';
        resultsScreen.style.display = 'flex';
        finalScoreSpan.innerText = `${score} / ${quizData.length}`;
    }

    // Start
    initQuiz();

</script>
</body>
</html>
