<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModMedicalis | Let the visuals speak</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJd/r7oQ9tTdsLqB81lE1K8j/bNq0lR7a/m4N1zJ3I7Z5n7W2vP0yQ5G7gNl1g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Import Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700&display=swap'); 
        @import url('https://fonts.googleapis.com/css2?family=Chau+Philomene+One&display=swap'); 
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Parisienne&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Lilita+One&display=swap');
        
        /* Custom font definitions */
        .algerya-sans-sc-font {
            font-family: 'Chau Philomene One', sans-serif; 
            font-weight: 700; 
            letter-spacing: 0.1em;
            text-transform: uppercase; 
        }

        .londrina-solid-font {
            font-family: 'Chau Philomene One', sans-serif;
            font-weight: 700; 
            text-transform: uppercase; 
        }

        body {
            font-family: 'Lexend', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .red-curved-section {
            background-color: #ef4444;
            border-bottom-left-radius: 30px; 
            border-bottom-right-radius: 30px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        @media (min-width: 640px) {
            .red-curved-section {
                border-bottom-left-radius: 50px;
                border-bottom-right-radius: 50px;
            }
        }

        .medical-pattern-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.05;
        }
        
        .avail-btn {
            background-color: #1e293b;
            color: white;
            padding: 0.75rem 2rem; 
            font-weight: 700;
            border-radius: 1.5rem;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 0.875rem; 
        }
        @media (min-width: 640px) {
            .avail-btn {
                padding: 1rem 2.5rem;
                font-size: 1rem;
            }
        }
        .avail-btn:hover {
            background-color: #334155;
            transform: translateY(-2px);
        }
        
        /* ---------------------------------------------------- */
        /* NEW STYLES: Filter Tabs Matching Reference           */
        /* ---------------------------------------------------- */
        .filter-text-button {
            position: relative;
            cursor: pointer;
            padding: 0.5rem 0.75rem;
            font-weight: 800;
            color: #9ca3af; /* Default Grey */
            transition: color 0.3s ease;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
        }
        
        .filter-text-button::after {
            content: '';
            position: absolute;
            left: 0; 
            bottom: 0;
            height: 4px; /* Thicker underline */
            width: 0;
            background-color: #ef4444; /* Red Underline */
            transition: width 0.3s ease;
        }

        .filter-text-button.active { 
            color: #111827; /* Black text when active */
        }
        .filter-text-button.active::after { 
            width: 100%; 
        }
        
        .review-box-design {
            background-color: white;
            border: 1px solid #e5e7eb;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-radius: 1rem; 
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 100%;
        }
        .review-box-design::before {
             content: '';
             position: absolute; top: 0; left: 0; width: 100%; height: 4px;
             background-color: #1A5693;
             transform: scaleX(0); transform-origin: left; transition: transform 0.3s ease;
        }
        .review-box-design:hover::before { transform: scaleX(1); }

        .product-popup-image-container {
            width: 100%;
            padding-top: 125%; 
            position: relative;
            overflow: hidden;
            background-color: #f3f4f6;
        }
        .product-popup-image-container img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: contain; 
        }
        
        /* ---------------------------------------------------- */
        /* NEW STYLES: Product Card Matching Reference          */
        /* ---------------------------------------------------- */
        .theme-product-card {
            background-color: white;
            transition: all 0.3s ease;
            width: 240px; /* Fixed width for better grid look */
            flex-shrink: 0;
            margin-right: 1.5rem;
            text-align: left; /* Left align text */
        }

        .horizontal-scroll-container {
            display: flex;
            overflow-x: scroll;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 2rem;
            padding-left: 0.5rem;
        }
        .horizontal-scroll-container::-webkit-scrollbar { display: none; }
        .horizontal-scroll-container { -ms-overflow-style: none; scrollbar-width: none; }

        .theme-image-box {
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
            background-color: #f3f4f6;
            margin-bottom: 0.75rem;
            height: 280px; /* Taller image area */
        }
        
        .theme-image-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .theme-product-card:hover .theme-image-box img {
            transform: scale(1.05);
        }

        .theme-card-title {
            font-size: 1.125rem;
            line-height: 1.2;
            font-weight: 900; 
            text-transform: uppercase;
            color: #111827; /* Black */
            font-family: 'Lexend', sans-serif;
            margin-bottom: 0.25rem;
        }

        .theme-price-main {
            color: #ef4444; /* Red */
            font-size: 1.25rem;
            font-weight: 800;
        }

        .theme-price-cut {
            color: #9ca3af; 
            text-decoration: line-through;
            font-size: 0.875rem; 
            font-weight: 500;
            margin-left: 0.5rem;
        }
        
        .theme-add-btn {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translate(-50%, 150%); /* Hidden initially */
            background-color: white;
            color: black;
            font-weight: 800;
            font-size: 0.875rem;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 80%;
            text-align: center;
            opacity: 0;
            border: 2px solid transparent;
        }
        
        .theme-image-box:hover .theme-add-btn {
            transform: translate(-50%, 0);
            opacity: 1;
        }
        
        .theme-add-btn:hover {
            background-color: black;
            color: white;
        }
        
        .new-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background-color: #ef4444;
            color: white;
            font-weight: 800;
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .cart-item-card {
            background-color: #fff; border: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .product-slide-up { animation: slideUp 0.4s ease-out forwards; }

        .logo-font {
            font-family: 'Lilita One', cursive;
            background: linear-gradient(90deg, #1A5693, #ef4444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }
        
        /* Checkout Styles */
        .progress-bar-container { width: 100%; height: 8px; background-color: #e5e7eb; border-radius: 4px; margin-bottom: 1.5rem; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(to right, #1A5693, #3b82f6); border-radius: 4px; transition: width 0.5s ease-in-out; }
        .checkout-step { display: none; }
        .checkout-step.active { display: block; }
        .step-indicator { display: flex; justify-content: space-between; margin-bottom: 1.5rem; position: relative; }
        .step-indicator::before { content: ''; position: absolute; top: 50%; left: 0; right: 0; height: 2px; background-color: #e5e7eb; transform: translateY(-50%); z-index: 1; }
        .step { display: flex; flex-direction: column; align-items: center; z-index: 2; position: relative; flex: 1; }
        .step-circle { width: 30px; height: 30px; border-radius: 50%; background-color: #e5e7eb; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #6b7280; margin-bottom: 0.5rem; transition: all 0.3s ease; }
        .step.active .step-circle { background-color: #1A5693; color: white; }
        .step.completed .step-circle { background-color: #10b981; color: white; }
        .step-label { font-size: 0.75rem; color: #6b7280; text-align: center; }
        .step.active .step-label { color: #1A5693; font-weight: 600; }
        .step.completed .step-label { color: #10b981; }
        .checkout-navigation { display: flex; justify-content: space-between; margin-top: 1.5rem; }
        
        .search-dropdown {
            position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); max-height: 200px; overflow-y: auto; z-index: 50;
        }
        .search-dropdown-item { padding: 0.75rem 1rem; cursor: pointer; border-bottom: 1px solid #f3f4f6; transition: background-color 0.2s; }
        .search-dropdown-item:hover { background-color: #f9fafb; }
        .search-dropdown-item:last-child { border-bottom: none; }

        .modern-input { width: 100%; padding: 0.75rem 1rem; border: 2px solid #e5e7eb; border-radius: 0.75rem; transition: border-color 0.3s, box-shadow 0.3s; }
        .modern-input:focus { border-color: #1A5693; outline: none; box-shadow: 0 0 0 3px rgba(26, 86, 147, 0.2); }
        
        @media (prefers-color-scheme: dark) {
            body { background-color: #f8fafc !important; color: #1e293b !important; }
        }
        
        /* Mobile Optimization Overrides */
        .tilted-overlap-image {
            position: absolute; top: -1.5rem; right: 0.25rem; width: 80px; height: 80px; z-index: 20; transform: rotate(10deg); object-fit: contain; pointer-events: none;
        }
        @media (min-width: 640px) {
            .tilted-overlap-image { top: -2.5rem; right: 0.5rem; width: 120px; height: 120px; }
        }

        /* ---------------------------------------------------- */
        /* Hero Tabs                                            */
        /* ---------------------------------------------------- */
        
        .hero-tab-card {
            background: white;
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            position: relative;
            overflow: hidden;
        }
        
        @media (min-width: 640px) {
            .hero-tab-card {
                padding: 1rem;
                gap: 1rem;
            }
        }

        .hero-tab-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .hero-tab-card.active-red {
            border-color: #ef4444; /* Red-500 */
            background-color: #fef2f2; /* Red-50 */
        }
        .hero-tab-card.active-blue {
            border-color: #3b82f6; /* Blue-500 */
            background-color: #eff6ff; /* Blue-50 */
        }
        .hero-tab-card.active-indigo {
            border-color: #6366f1; /* Indigo-500 */
            background-color: #eef2ff; /* Indigo-50 */
        }

        .tab-icon-box {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        @media (min-width: 640px) {
             .tab-icon-box {
                width: 48px;
                height: 48px;
                font-size: 1.25rem;
             }
        }

        .tab-panel {
            display: none;
        }
        .tab-panel.active {
            display: flex;
        }
        
        /* Animations */
        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .animate-fade-right {
            animation: fadeInRight 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="min-h-screen antialiased">

    <div class="bg-red-600 text-white text-center py-2 text-[10px] sm:text-xs font-semibold sticky top-0 z-50 algerya-sans-sc-font tracking-widest">
        MIND YOUR MINORS BLOCK 6 HAS BEEN LAUNCHED
    </div>

    <!-- Header -->
    <header class="bg-white border-b border-gray-100 sticky top-8 md:top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-14 sm:h-16">
                <a href="#" id="home-logo-link" class="flex-shrink-0 flex items-center">
                    <img src="https://i.imgur.com/R8x4icz.png" alt="ModMedicalis Logo" class="h-10 sm:h-12 w-auto rounded-lg">
                </a>
                
                <nav class="hidden md:flex items-center space-x-6">
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="Search products..." class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-[#1A5693] focus:border-[#1A5693] w-64 text-sm">
                        <button id="search-button" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-[#1A5693]">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                        </button>
                        <div id="search-dropdown" class="search-dropdown hidden"></div>
                    </div>
                    <button id="desktop-cart-button" class="relative text-gray-600 hover:text-[#1A5693] transition duration-150">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.38a2 2 0 0 0 1.84-1.11L22 7H4"/></svg>
                        <span id="desktop-cart-count" class="absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-[#1A5693] rounded-full">0</span>
                    </button>
                </nav>

                <div class="flex items-center md:hidden space-x-3">
                    <button id="mobile-cart-button" class="relative text-gray-600 hover:text-[#1A5693] transition duration-150">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.38a2 2 0 0 0 1.84-1.11L22 7H4"/></svg>
                        <span id="mobile-cart-count" class="absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-[#1A5693] rounded-full">0</span>
                    </button>
                    <button id="mobile-menu-button" class="text-gray-600 hover:text-[#1A5693]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12"y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100">
            <div class="px-4 py-3 space-y-2">
                <div class="relative w-full">
                    <input type="text" id="mobile-search-input" placeholder="Search products..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-[#1A5693] focus:border-[#1A5693] text-sm">
                    <button id="mobile-search-button" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-[#1A5693]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    </button>
                    <div id="mobile-search-dropdown" class="search-dropdown hidden"></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="relative bg-[#fff1f2] pt-8 pb-8 sm:pb-16 overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 h-full relative z-10 flex flex-col justify-center">
                
                <div id="hero-content-wrapper" class="mb-8 sm:mb-12 min-h-[350px] flex items-center">
                    
                    <!-- TAB PANEL 1: Block 6 (Active) -->
                    <div id="panel-block6" class="tab-panel active w-full flex flex-col-reverse md:flex-row items-center justify-between gap-6 sm:gap-12 animate-fade-right">
                        <div class="text-center md:text-left md:w-1/2 space-y-3 sm:space-y-4">
                            <span class="bg-white text-red-600 font-bold px-4 py-1.5 rounded-full text-xs sm:text-sm shadow-sm inline-block tracking-wide">TRUSTED BY 100,000+ MED STUDENTS</span>
                            <h1 class="text-4xl sm:text-5xl md:text-6xl font-black text-gray-900 leading-tight algerya-sans-sc-font">
                                STUDY SMARTER <br> <span class="text-red-600">FOR BLOCK 6</span>
                            </h1>
                            <p class="text-gray-600 font-medium text-sm sm:text-base max-w-md mx-auto md:mx-0">The newly launched minor subjects block notes. Completely aligned with UHS LOs with enhanced illustrations.</p>
                            
                            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start mt-4 sm:mt-6">
                                <button class="add-to-cart-btn-hero bg-red-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-red-700 transition transform hover:-translate-y-1 text-sm sm:text-base" onclick="document.querySelector('.add-to-cart-btn[data-product-id=\'3\']').click()">
                                    SHOP BLOCK 6
                                </button>
                                <button class="bg-white text-gray-900 border-2 border-gray-200 font-bold py-3 px-8 rounded-xl shadow-sm hover:border-red-600 transition text-sm sm:text-base" onclick="document.getElementById('notes').scrollIntoView({behavior: 'smooth'})">
                                    VIEW ALL NOTES
                                </button>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center relative">
                             <img src="https://i.imgur.com/wLiYfOr.jpeg" class="w-48 sm:w-64 md:w-80 rounded-xl shadow-2xl rotate-[-3deg] border-4 border-white transform transition hover:rotate-0 duration-500">
                        </div>
                    </div>

                    <!-- TAB PANEL 2: Block 3 -->
                    <div id="panel-block3" class="tab-panel hidden w-full flex flex-col-reverse md:flex-row items-center justify-between gap-6 sm:gap-12 animate-fade-right">
                        <div class="text-center md:text-left md:w-1/2 space-y-3 sm:space-y-4">
                            <span class="bg-white text-[#3b82f6] font-bold px-4 py-1.5 rounded-full text-xs sm:text-sm shadow-sm inline-block tracking-wide">1ST YEAR MBBS ESSENTIAL</span>
                            <h1 class="text-4xl sm:text-5xl md:text-6xl font-black text-gray-900 leading-tight algerya-sans-sc-font">
                                ACE YOUR <br> <span class="text-[#3b82f6]">BLOCK 3 EXAMS</span>
                            </h1>
                            <p class="text-gray-600 font-medium text-sm sm:text-base max-w-md mx-auto md:mx-0">Detailed illustrations and high-yield mnemonics. Perfect for quick revision and concept consolidation.</p>
                            
                            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start mt-4 sm:mt-6">
                                <button class="add-to-cart-btn-hero bg-[#3b82f6] text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-blue-700 transition transform hover:-translate-y-1 text-sm sm:text-base" onclick="document.querySelector('.add-to-cart-btn[data-product-id=\'4\']').click()">
                                    SHOP BLOCK 3
                                </button>
                                <button class="bg-white text-gray-900 border-2 border-gray-200 font-bold py-3 px-8 rounded-xl shadow-sm hover:border-[#3b82f6] transition text-sm sm:text-base" onclick="document.getElementById('notes').scrollIntoView({behavior: 'smooth'})">
                                    VIEW ALL NOTES
                                </button>
                            </div>
                        </div>
                        <!-- Updated Block 3 Image -->
                        <div class="md:w-1/2 flex justify-center relative">
                             <img src="https://i.imgur.com/cHK9DcE.jpeg" class="w-48 sm:w-64 md:w-80 rounded-xl shadow-2xl rotate-[2deg] border-4 border-white transform transition hover:rotate-0 duration-500">
                        </div>
                    </div>

                    <!-- TAB PANEL 3: Block 5 -->
                    <div id="panel-block5" class="tab-panel hidden w-full flex flex-col-reverse md:flex-row items-center justify-between gap-6 sm:gap-12 animate-fade-right">
                        <div class="text-center md:text-left md:w-1/2 space-y-3 sm:space-y-4">
                            <span class="bg-white text-[#6366f1] font-bold px-4 py-1.5 rounded-full text-xs sm:text-sm shadow-sm inline-block tracking-wide">BEST VALUE FOR 2ND YEAR</span>
                            <h1 class="text-4xl sm:text-5xl md:text-6xl font-black text-gray-900 leading-tight algerya-sans-sc-font">
                                MASTER <br> <span class="text-[#6366f1]">BLOCK 5 MINORS</span>
                            </h1>
                            <p class="text-gray-600 font-medium text-sm sm:text-base max-w-md mx-auto md:mx-0">Say goodbye to boring books. Completely aligned with UHS LOs and recommended books.</p>
                            
                            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start mt-4 sm:mt-6">
                                <button class="add-to-cart-btn-hero bg-[#6366f1] text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-indigo-700 transition transform hover:-translate-y-1 text-sm sm:text-base" onclick="document.querySelector('.add-to-cart-btn[data-product-id=\'2\']').click()">
                                    SHOP BLOCK 5
                                </button>
                                <button class="bg-white text-gray-900 border-2 border-gray-200 font-bold py-3 px-8 rounded-xl shadow-sm hover:border-[#6366f1] transition text-sm sm:text-base" onclick="document.getElementById('notes').scrollIntoView({behavior: 'smooth'})">
                                    VIEW ALL NOTES
                                </button>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center relative">
                             <img src="https://i.imgur.com/mTnWoeB.png" class="w-48 sm:w-64 md:w-80 rounded-xl shadow-2xl rotate-[-2deg] border-4 border-white transform transition hover:rotate-0 duration-500">
                        </div>
                    </div>

                </div>

                <!-- BOTTOM NAVIGATION TABS -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-4xl mx-auto w-full">
                    
                    <!-- Tab 1: Block 6 (Red Theme) -->
                    <div class="hero-tab-card active-red group" data-target="block6" data-color="red">
                        <div class="tab-icon-box bg-red-100 text-red-600 group-hover:bg-red-600 group-hover:text-white">
                            <i class="fa-solid fa-book-medical"></i>
                        </div>
                        <span class="font-bold text-sm sm:text-base text-gray-800 group-hover:text-red-600 transition-colors algerya-sans-sc-font tracking-wide">BLOCK 6</span>
                    </div>

                    <!-- Tab 2: Block 3 (Blue Theme) -->
                    <div class="hero-tab-card group" data-target="block3" data-color="blue">
                        <div class="tab-icon-box bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white">
                            <i class="fa-solid fa-brain"></i>
                        </div>
                        <span class="font-bold text-sm sm:text-base text-gray-800 group-hover:text-blue-600 transition-colors algerya-sans-sc-font tracking-wide">BLOCK 3</span>
                    </div>

                    <!-- Tab 3: Block 5 (Indigo Theme) -->
                    <div class="hero-tab-card group" data-target="block5" data-color="indigo">
                        <div class="tab-icon-box bg-indigo-100 text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white">
                            <i class="fa-solid fa-pills"></i>
                        </div>
                        <span class="font-bold text-sm sm:text-base text-gray-800 group-hover:text-indigo-600 transition-colors algerya-sans-sc-font tracking-wide">BLOCK 5</span>
                    </div>

                </div>

            </div>
        </section>

        <!-- Shop Section: Redesigned to match Reference Picture -->
        <section id="notes" class="py-12 sm:py-20 mx-0 bg-white relative">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                 
                 <!-- Header & Filters (Flex Row) -->
                 <div class="flex flex-col md:flex-row md:items-end justify-between mb-8 border-b border-gray-200 pb-2">
                     <h2 class="text-4xl font-black text-black algerya-sans-sc-font uppercase mb-4 md:mb-0 text-left">TOP RESOURCES</h2>
                     <div id="filter-buttons-container" class="flex space-x-6">
                        <span id="filter-all" data-year="all" class="filter-text-button active">ALL</span> 
                        <span id="filter-1st" data-year="1" class="filter-text-button">1st Year</span>
                        <span id="filter-2nd" data-year="2" class="filter-text-button">2nd Year</span>
                     </div>
                 </div>

                 <!-- Product Card Container -->
                 <div id="product-container" class="horizontal-scroll-container">
                    
                    <!-- Card 1: Block 3 (New Image) -->
                    <div class="theme-product-card snap-center product-card group" data-year="1" data-product-id="4">
                        <div class="theme-image-box product-trigger" data-product-id="4">
                             <img src="https://i.imgur.com/cHK9DcE.jpeg" alt="Mind Your Minors Block 3">
                             <div class="new-badge">NEW</div>
                             <button class="theme-add-btn add-to-cart-btn" data-product-id="4">ADD TO CART</button>
                        </div>
                        <div class="flex items-center text-xs text-yellow-400 mb-1 space-x-1">
                             <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                             <span class="text-gray-400 font-semibold ml-1">(18)</span>
                        </div>
                        <h3 class="theme-card-title product-trigger" data-product-id="4">MIND YOUR MINORS BLOCK 3</h3>
                        <div class="flex items-baseline mt-1">
                             <span class="theme-price-main">Rs. 700</span>
                        </div>
                    </div>

                    <!-- Card 2: Block 2 -->
                    <div class="theme-product-card snap-center product-card group" data-year="1" data-product-id="1">
                        <div class="theme-image-box product-trigger" data-product-id="1">
                            <img src="https://i.imgur.com/c4XSHmA.jpeg" alt="Block 2 Flashcards">
                            <button class="theme-add-btn add-to-cart-btn" data-product-id="1">ADD TO CART</button>
                        </div>
                        <div class="flex items-center text-xs text-yellow-400 mb-1 space-x-1">
                             <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                             <span class="text-gray-400 font-semibold ml-1">(42)</span>
                        </div>
                        <h3 class="theme-card-title product-trigger" data-product-id="1">BLOCK 2 FLASHCARDS</h3>
                        <div class="flex items-baseline mt-1">
                            <span class="theme-price-main">Rs. 900</span>
                            <span class="theme-price-cut">Rs. 1100</span>
                        </div>
                    </div>

                    <!-- Card 3: Block 5 -->
                    <div class="theme-product-card snap-center product-card group" data-year="2" data-product-id="2">
                        <div class="theme-image-box product-trigger" data-product-id="2">
                            <img src="https://i.imgur.com/mTnWoeB.png" alt="Mind Your Minors Block 5">
                            <button class="theme-add-btn add-to-cart-btn" data-product-id="2">ADD TO CART</button>
                        </div>
                        <div class="flex items-center text-xs text-yellow-400 mb-1 space-x-1">
                             <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                             <span class="text-gray-400 font-semibold ml-1">(120)</span>
                        </div>
                        <h3 class="theme-card-title product-trigger" data-product-id="2">MIND YOUR MINORS - BLOCK 5</h3>
                        <div class="flex items-baseline mt-1">
                            <span class="theme-price-main">Rs. 500</span>
                        </div>
                    </div>

                    <!-- Card 4: Block 6 -->
                    <div class="theme-product-card snap-center product-card group" data-year="2" data-product-id="3">
                        <div class="theme-image-box product-trigger" data-product-id="3">
                             <img src="https://i.imgur.com/wLiYfOr.jpeg" alt="Mind Your Minors Block 6">
                             <div class="new-badge">NEW</div>
                             <button class="theme-add-btn add-to-cart-btn" data-product-id="3">ADD TO CART</button>
                        </div>
                        <div class="flex items-center text-xs text-yellow-400 mb-1 space-x-1">
                             <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                             <span class="text-gray-400 font-semibold ml-1">(56)</span>
                        </div>
                        <h3 class="theme-card-title product-trigger" data-product-id="3">MIND YOUR MINORS - BLOCK 6</h3>
                        <div class="flex items-baseline mt-1">
                             <span class="theme-price-main">Rs. 700</span>
                             <span class="theme-price-cut">Rs. 1500</span>
                        </div>
                    </div>

                 </div>
             </div>
        </section>
        
        <section class="pt-6 pb-0 sm:pt-8 sm:pb-0" style="background-color: #E0F4FF;">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-xl sm:text-4xl font-extrabold text-center mb-6 text-gray-900 algerya-sans-sc-font">
                    <span class="text-black">TRUSTED BY </span><span style="color: #00A5E3;">STUDENTS FROM 10+</span><span class="text-black"> MEDSCHOOLS</span>
                </h2>
                <div class="horizontal-scroll-container pb-0 space-x-3">
                    <div class="snap-center flex-shrink-0 w-64 sm:w-80 p-4 sm:p-5 review-box-design">
                        <div class="flex items-center space-x-1 text-yellow-500 text-sm mb-2">
                            <span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span>
                        </div>
                        <p class="italic text-gray-700 mb-2 text-xs sm:text-sm leading-relaxed">"your FLASHCARDS are super effective and a lifesaver indeed...really admire your efforts behind these &lt;3 BIG thanks for the mnemonics !!"</p>
                        <div class="font-bold text-gray-900 text-xs sm:text-sm">MBBS Student</div>
                        <div class="text-[10px] sm:text-xs text-gray-500">1st year MBBS student AIMC</div>
                    </div>
                    <div class="snap-center flex-shrink-0 w-64 sm:w-80 p-4 sm:p-5 review-box-design">
                        <div class="flex items-center space-x-1 text-yellow-500 text-sm mb-2">
                            <span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span>
                        </div>
                        <p class="italic text-gray-700 mb-2 text-xs sm:text-sm leading-relaxed">"Mind your minors is literally a v good initiative. The illustrations are quite appealing and all the minors being covered in a book with past ppr questions is cherry on top..."</p>
                        <div class="font-bold text-gray-900 text-xs sm:text-sm">MBBS Student</div>
                        <div class="text-[10px] sm:text-xs text-gray-500">2nd year MBBS student AIMC</div>
                    </div>
                    <div class="snap-center flex-shrink-0 w-64 sm:w-80 p-4 sm:p-5 review-box-design">
                        <div class="flex items-center space-x-1 text-yellow-500 text-sm mb-2">
                            <span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span>
                        </div>
                        <p class="italic text-gray-700 mb-2 text-xs sm:text-sm leading-relaxed">"9.5/10. The idea, the design, the packaging and a good initiative for helping students achieve marks in minor subjects. Near to perfect..."</p>
                        <div class="font-bold text-gray-900 text-xs sm:text-sm">Hamza</div>
                        <div class="text-[10px] sm:text-xs text-gray-500">1st year central park medical college</div>
                    </div>
                    <div class="snap-center flex-shrink-0 w-64 sm:w-80 p-4 sm:p-5 review-box-design">
                        <div class="flex items-center space-x-1 text-yellow-500 text-sm mb-2">
                            <span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span>
                        </div>
                        <p class="italic text-gray-700 mb-2 text-xs sm:text-sm leading-relaxed">"AJ ke assessment mein pharmacology ke all 3 LOS THAY and 9 MCQS THAY ALL COVERED FROM FLASHCARDS"</p>
                        <div class="font-bold text-gray-900 text-xs sm:text-sm">Abd-ur-Rehman</div>
                        <div class="text-[10px] sm:text-xs text-gray-500">1st year MBBS Sialkot medical college</div>
                    </div>
                    <div class="snap-center flex-shrink-0 w-64 sm:w-80 p-4 sm:p-5 review-box-design">
                        <div class="flex items-center space-x-1 text-yellow-500 text-sm mb-2">
                            <span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span><span>⭐️</span>
                        </div>
                        <p class="italic text-gray-700 mb-2 text-xs sm:text-sm leading-relaxed">"For the first time in my life i have recieved a book in this packaging ... and everything is on top notch ... quality over everything More powers to you guys"</p>
                        <div class="font-bold text-gray-900 text-xs sm:text-sm">Meerab Murtaza</div>
                        <div class="text-[10px] sm:text-xs text-gray-500">2nd year MBBS AIMC</div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="new-comparison-image" class="pt-0 pb-4 sm:pb-8 bg-[#E0F4FF]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="max-w-4xl mx-auto rounded-xl shadow-none overflow-hidden"> 
                    <img src="https://i.imgur.com/HFxNvsE.png" alt="Mind Your Minors Book Example" class="w-full h-auto object-cover">
                </div>
            </div>
        </section>

        <section class="py-10 sm:py-20 red-curved-section mb-4">
            <svg class="medical-pattern-svg" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="medicalPattern" patternUnits="userSpaceOnUse" width="20" height="20">
                        <path d="M 10 0 L 10 20 M 0 10 L 20 10" stroke="#fef2f2" stroke-width="1.5" />
                        <path d="M 5 5 Q 10 0 15 5 Q 20 10 15 15 Q 10 20 5 15" fill="none" stroke="#fef2f2" stroke-width="0.5" />
                        <path d="M 0 12 L 5 12 L 7 8 L 9 16 L 11 8 L 13 12 L 20 12" fill="none" stroke="#fef2f2" stroke-width="0.25" />
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#medicalPattern)" />
            </svg>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center content-z">
                <h2 class="text-3xl sm:text-6xl font-extrabold text-white algerya-sans-sc-font">FREE RESOURCES</h2>
                <a href="https://modmedicalis.online/FREE-RESOURCES" class="avail-btn mt-4 inline-block">CLICK TO AVAIL</a>
                <p class="text-white text-opacity-80 mt-4 text-xs sm:text-sm font-medium">Flashcards, Quizzes, Past Papers and UHS Notes</p>
            </div>
        </section>
        
        <section class="py-10 sm:py-20 bg-[#E0F4FF] border-t border-gray-200">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-xl sm:text-4xl font-extrabold text-center mb-6 sm:mb-10 text-gray-900 algerya-sans-sc-font">
                    <span style="color: black;">MESSAGE FROM THE </span> <span style="color: #00A5E3;">FOUNDER</span>
                </h2>
                <div class="p-5 sm:p-8 bg-white rounded-xl shadow-2xl border-t-0">
                    <p class="italic text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base leading-relaxed">Mind Your Minors was born from the real struggles of every medical student; endless notes, massive books, and not enough time. We wanted to change the way students learn, making it smarter, simpler, and more visual. Each page blends clarity with creativity, turning complex topics into quick, memorable insights. Designed by students who've been in your shoes, this book makes learning the minor subjects not a burden, but a breakthrough in your MBBS journey.</p>
                    <div class="flex items-center justify-end space-x-3 sm:space-x-4 pt-4 border-t border-gray-100">
                        <div class="text-right">
                            <p class="font-bold text-base sm:text-lg text-gray-900">Muhammad Hasnain</p>
                            <p class="text-xs sm:text-sm text-[#1A5693] font-semibold">Founder, ModMedicalis</p>
                        </div>
                        <img src="https://i.imgur.com/2y4pFZW.jpeg" alt="Founder's Photo" class="h-12 w-12 sm:h-16 sm:w-16 rounded-full object-cover ring-2 ring-[#1A5693] p-0.5">
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-10 sm:py-20 bg-white border-t border-gray-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-xl sm:text-4xl font-extrabold text-center mb-8 text-gray-900 algerya-sans-sc-font">
                    <span class="text-[#1A5693]">OUR</span> TEAM
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-8">
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/2y4pFZW.jpeg" alt="Muhammad Hasnain Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Muhammad Hasnain</p>
                        <p class="text-xs sm:text-sm text-red-600 font-semibold">Founder | Developer</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/RbGRiTF.jpeg" alt="Hamza Masood Gondal Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Hamza Masood Gondal</p>
                        <p class="text-xs sm:text-sm text-red-600 font-semibold">Co-Founder | Top Position Holder</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/A3rIAiM.jpeg" alt="Mahrukh Nadeem Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Mahrukh Nadeem</p>
                        <p class="text-xs sm:text-sm text-red-600 font-semibold">Admin | Designer</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/CeUeZFg.jpeg" alt="Muhammad Abdul Wasay Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Muhammad Abdul Wasay</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/CeB9C1W.jpeg" alt="Maha Hamid Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Maha Hamid</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/JHrPZtJ.jpeg" alt="Hadia Gulshan Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Hadia Gulshan</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/4r2gRPM.jpeg" alt="Abdur Rehman Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Abdur Rehman</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/dAVsFNR.jpeg" alt="Khalil Ali Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Khalil Ali</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                    <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/FqNHaeY.jpeg" alt="Muhammad Ammar Khalid Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Muhammad Ammar Khalid</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                     <div class="flex flex-col items-center text-center p-0 bg-white rounded-none shadow-none border-none transition duration-300">
                        <img src="https://i.imgur.com/VQH3Rqp.png" alt="Hadia Gulshan Photo" class="h-20 w-20 sm:h-28 sm:w-28 rounded-full object-cover mb-2 sm:mb-4 border-none shadow-none">
                        <p class="font-bold text-base sm:text-lg text-gray-900">Hadia Gulshan</p>
                        <p class="text-xs sm:text-sm text-red-600 font-semibold">Graphic designer</p>
                        <p class="text-[10px] sm:text-xs text-gray-500 mt-1">MS-II (AIMC)</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-10 sm:py-16 bg-white text-center">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center">
                <img src="https://i.imgur.com/6shOPBZ.jpeg" alt="Zubair Book Depot Logo" class="h-16 sm:h-24 w-auto mb-4 sm:mb-6">
                <h3 class="text-lg sm:text-xl font-bold text-gray-600 tracking-widest algerya-sans-sc-font">OUR OFFICIAL DISTRIBUTOR</h3>
                <p class="text-2xl sm:text-3xl font-extrabold text-[#1A5693] londrina-solid-font mt-1 sm:mt-2">Zubair Book Depot</p>
            </div>
        </section>
        
        </main>
    
    <footer id="contact" class="bg-[#FFEFF2] text-gray-900 py-8 sm:py-10">
        <!-- ... Footer Content (Same as before) ... -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex flex-col items-center mb-6 sm:mb-8">
                <a href="#" class="home-logo-link flex-shrink-0 flex items-center mb-4">
                     <img src="https://i.imgur.com/R8x4icz.png" alt="ModMedicalis Logo" class="h-10 sm:h-12 w-auto rounded-lg">
                </a>
                <h3 class="text-lg sm:text-xl font-bold text-red-600 mb-2 algerya-sans-sc-font">MODMEDICALIS</h3>
                <p class="text-xs sm:text-sm text-gray-600 max-w-sm">Your trusted partner for medical education excellence.</p>
            </div>
            <!-- ... Links and Socials ... -->
             <div class="max-w-xs mx-auto mb-6 sm:mb-8 border-t border-b border-gray-300 py-4 sm:py-6">
                <h4 class="text-sm sm:text-base font-bold mb-4 text-red-600 algerya-sans-sc-font">MENU</h4>
                <ul class="space-y-2 text-sm sm:text-base font-medium">
                    <li><a href="#" class="home-logo-link text-gray-700 hover:text-red-600 transition">Home</a></li>
                    <li><a href="#notes" class="text-gray-700 hover:text-red-600 transition">Shop</a></li>
                    <li><a href="https://modmedicalis.online/FREE-RESOURCES" class="text-gray-700 hover:text-red-600 transition">Free Resources</a></li>
                    <li><a href="#contact" class="text-gray-700 hover:text-red-600 transition">Contact / FAQs</a></li>
                </ul>
            </div>
            <div class="flex justify-center space-x-6 mb-6 sm:mb-8 text-xl sm:text-2xl">
                 <a href="https://www.facebook.com/" target="_blank" class="text-gray-700 hover:text-red-600 transition"><i class="fab fa-facebook-f"></i></a>
                 <a href="https://www.instagram.com/modmedicalis?igsh=MTZtcGl6N3cwazRlcg==" target="_blank" class="text-gray-700 hover:text-red-600 transition"><i class="fab fa-instagram"></i></a>
                 <a href="https://www.youtube.com/" target="_blank" class="text-gray-700 hover:text-red-600 transition"><i class="fab fa-youtube"></i></a>
                 <a href="https://www.tiktok.com/" target="_blank" class="text-gray-700 hover:text-red-600 transition"><i class="fab fa-tiktok"></i></a>
            </div>
            <div class="text-[10px] sm:text-xs text-gray-500 space-x-4 pt-4 mt-4 border-t border-gray-300">
                <p class="mb-2">&copy; 2025 ModMedicalis</p>
                <div class="flex flex-wrap justify-center space-x-3 sm:space-x-4">
                    <a href="#" class="hover:text-red-600">Refund Policy</a>
                    <a href="#" class="hover:text-red-600">Privacy Policy</a>
                    <a href="#" class="hover:text-red-600">Terms of Service</a>
                    <a href="#" class="hover:text-red-600">Shipping Policy</a>
                </div>
            </div>
        </div>
    </footer>
    
    <div id="cart-modal-overlay" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <!-- ... Cart Modal (Same as before) ... -->
        <div id="cart-modal" class="bg-white rounded-xl shadow-2xl w-full max-w-sm sm:max-w-md transform transition-all duration-300 scale-95 opacity-0">
            <div class="p-4 border-b flex justify-between items-center bg-[#00A5E3] rounded-t-xl">
                <h3 class="text-xl font-bold text-white algerya-sans-sc-font">Your Cart</h3>
                <button id="close-cart-button" class="text-white hover:text-gray-100 transition p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div id="cart-items-container" class="p-4 max-h-72 overflow-y-auto space-y-3">
                <p id="empty-cart-message" class="text-gray-500 text-center italic text-sm">Your cart is empty.</p>
            </div>
            <div id="cart-footer" class="p-4 border-t space-y-2 rounded-b-xl bg-gray-50">
                <div class="flex justify-between font-semibold text-gray-700 text-sm">
                    <span>Subtotal:</span>
                    <span id="cart-subtotal">Rs. 0</span>
                </div>
                <div class="flex justify-between text-lg font-extrabold text-[#1A5693]">
                    <span>Total:</span>
                    <span id="cart-total">Rs. 0</span>
                </div>
                <button id="proceed-to-checkout-btn" class="w-full bg-[#00A5E3] text-white py-2 rounded-lg font-bold text-sm hover:bg-cyan-600 transition duration-200 shadow-lg algerya-sans-sc-font">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>
    
    <div id="checkout-page" class="hidden bg-slate-50 min-h-screen py-12">
        <!-- ... Checkout Page Logic (Identical to previous response) ... -->
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="checkout-page-content" class="bg-white rounded-xl shadow-2xl w-full overflow-hidden">
                <div class="p-4 border-b flex justify-between items-center bg-[#00A5E3] rounded-t-xl">
                    <h3 class="text-xl font-bold text-white algerya-sans-sc-font">Checkout</h3>
                    <button id="close-checkout-button" class="text-white hover:text-gray-100 transition p-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                    </button>
                </div>
                <!-- Checkout steps and forms kept exactly as requested -->
                <div id="checkout-steps-container">
                    <div class="p-4 border-b">
                        <div class="step-indicator">
                            <div class="step active" data-step="1">
                                <div class="step-circle">1</div>
                                <div class="step-label">Shipping</div>
                            </div>
                            <div class="step" data-step="2">
                                <div class="step-circle">2</div>
                                <div class="step-label">Payment</div>
                            </div>
                            <div class="step" data-step="3">
                                <div class="step-circle">3</div>
                                <div class="step-label">Confirmation</div>
                            </div>
                        </div>
                        <div class="progress-bar-container">
                            <div id="checkout-progress-bar" class="progress-bar" style="width: 0%;"></div>
                        </div>
                    </div>
                    <form id="checkout-form" method="POST" enctype="multipart/form-data">
                        <input type="hidden" name="_subject" value="New ModMedicalis Order!">
                        <input type="hidden" name="_template" value="table">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" name="Cart Details" id="form-cart-details">
                        <input type="hidden" name="Final Bill" id="form-final-bill">
                        <input type="hidden" name="Order ID" id="form-order-id">
                        <input type="hidden" name="Roll Number" id="form-roll-number" value=""> 

                        <div id="checkout-step-1" class="checkout-step active p-6 space-y-4">
                            <!-- Step 1 Content -->
                            <h4 class="text-base font-bold text-gray-700 algerya-sans-sc-font">Shipping Details</h4>
                            <hr class="border-gray-100">
                            <div>
                                <label for="full_name" class="block text-xs font-medium text-gray-700 mb-1">FULL NAME</label>
                                <input type="text" id="full_name" name="Full Name" required class="modern-input text-sm">
                            </div>
                            <div>
                                <label for="college" class="block text-xs font-medium text-gray-700 mb-1">SELECT COLLEGE</label>
                                <select id="college" name="College" required class="modern-input text-sm">
                                    <option value="" disabled selected>Select your medical college</option>
                                </select>
                            </div>
                            <div id="aimc-promo-section" class="hidden p-4 bg-blue-50 rounded-xl border-2 border-blue-100 space-y-3 shadow-inner">
                                <h5 class="text-sm font-extrabold text-[#1A5693] algerya-sans-sc-font">AIMC SPECIAL OFFER (Block 6 only)</h5>
                                <div>
                                    <label for="promo_code" class="block text-xs font-medium text-gray-700 mb-1">PROMO CODE (AIMC students only)</label>
                                    <input type="text" id="promo_code" name="Promo Code Entered" class="modern-input uppercase text-sm" placeholder="">
                                </div>
                                <div id="roll-number-entry" class="hidden">
                                    <label for="roll_number" class="block text-xs font-medium text-gray-700 mb-1">ROLL NUMBER (For verification)</label>
                                    <input type="number" id="roll_number" name="AIMC Roll Number" class="modern-input text-sm" placeholder="">
                                    <p id="roll-number-feedback" class="text-[11px] mt-2 font-semibold"></p>
                                </div>
                            </div>
                            <div>
                                <label for="contact_number" class="block text-xs font-medium text-gray-700 mb-1">CONTACT NUMBER</label>
                                <input type="tel" id="contact_number" name="Contact Number" required class="modern-input text-sm">
                            </div>
                            <div>
                                <label for="city_selector" class="block text-xs font-medium text-gray-700 mb-1">CITY OF DELIVERY</label>
                                <select id="city_selector" name="City" required class="modern-input text-sm">
                                    <option value="" disabled selected>Select your city</option>
                                </select>
                            </div>
                            <div>
                                <label for="shipping_address" class="block text-xs font-medium text-gray-700 mb-1">SHIPPING ADDRESS (Full Details for Courier)</label>
                                <textarea id="shipping_address" name="Shipping Address" rows="2" required class="modern-input text-sm"></textarea>
                            </div>
                            <div class="checkout-navigation">
                                <button type="button" id="cancel-checkout-btn" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition duration-200 text-sm">Cancel</button>
                                <button type="button" id="next-to-payment-btn" class="px-6 py-2 bg-[#00A5E3] text-white rounded-lg font-medium hover:bg-cyan-600 transition duration-200 algerya-sans-sc-font text-sm">Next: Payment Details</button>
                            </div>
                        </div>

                        <div id="checkout-step-2" class="checkout-step p-6 space-y-4">
                            <!-- Step 2 Content -->
                            <h4 class="text-base font-bold text-gray-700 algerya-sans-sc-font">Payment Details</h4>
                            <hr class="border-gray-100">
                            <div class="bg-gray-100 p-4 rounded-xl border border-gray-200 text-center shadow-inner">
                                <p class="text-xs font-semibold text-gray-800 mb-2">PAYMENT TO:</p>
                                <p class="text-base font-bold text-gray-900 algerya-sans-sc-font">MUHAMMAD HASNAIN</p>
                                <div class="flex items-center justify-center space-x-2 mt-1">
                                    <span id="payment-number" class="text-lg font-mono text-blue-600 font-extrabold">03096554421</span>
                                    <button type="button" onclick="copyPaymentNumber()" class="bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-semibold hover:bg-blue-700 transition">Copy</button>
                                </div>
                                <p class="text-[11px] text-gray-500 mt-1">Jazzcash and Easypaisa</p>
                                <p class="text-base font-extrabold text-red-600 mt-3 border-t border-gray-300 pt-2">Product Total: <span id="payment-amount">Rs. 0</span></p>
                                <p class="text-[11px] text-gray-500 mt-1 italic font-semibold">*Delivery charges are paid in cash to the rider upon delivery.*</p>
                            </div>
                            <div>
                                <label for="payment_slip" class="block text-xs font-medium text-gray-700 mb-1">Upload Payment Slip (Required for confirmation)</label>
                                <input type="file" id="payment_slip" name="Payment Slip" accept="image/*,.pdf" required class="w-full p-2 border border-gray-300 rounded-lg focus:ring-[#1A5693] focus:border-[#1A5693] text-xs">
                            </div>
                            <h4 class="text-base font-bold text-gray-700 pt-2 algerya-sans-sc-font">How did you hear about us?</h4>
                            <hr class="border-gray-100">
                            <div class="space-y-1">
                                <div class="flex items-center">
                                    <input id="source-ambassador" name="Referral Source" type="radio" value="Ambassador" required class="h-4 w-4 text-[#1A5693] border-gray-300 focus:ring-[#1A5693]">
                                    <label for="source-ambassador" class="ml-2 block text-xs font-medium text-gray-700">Ambassador</label>
                                </div>
                                <div class="flex items-center">
                                    <input id="source-social" name="Referral Source" type="radio" value="Social Media" class="h-4 w-4 text-[#1A5693] border-gray-300 focus:ring-[#1A5693]">
                                    <label for="source-social" class="ml-2 block text-xs font-medium text-gray-700">Social Media</label>
                                </div>
                                <div class="flex items-center">
                                    <input id="source-colleagues" name="Referral Source" type="radio" value="Colleagues" class="h-4 w-4 text-[#1A5693] border-gray-300 focus:ring-[#1A5693]">
                                    <label for="source-colleagues" class="ml-2 block text-xs font-medium text-gray-700">Colleagues</label>
                                </div>
                                <div class="flex items-center">
                                    <input id="source-other" name="Referral Source" type="radio" value="Other" class="h-4 w-4 text-[#1A5693] border-gray-300 focus:ring-[#1A5693]">
                                    <label for="source-other" class="ml-2 block text-xs font-medium text-gray-700">Other</label>
                                </div>
                            </div>
                            <div class="checkout-navigation">
                                <button type="button" id="back-to-shipping-btn" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition duration-200 text-sm">Back</button>
                                <button type="button" id="next-to-confirmation-btn" class="px-6 py-2 bg-[#00A5E3] text-white rounded-lg font-medium hover:bg-cyan-600 transition duration-200 algerya-sans-sc-font text-sm">Next: Confirmation</button>
                            </div>
                        </div>

                        <div id="checkout-step-3" class="checkout-step p-6 space-y-4">
                            <!-- Step 3 Content -->
                            <h4 class="text-base font-bold text-gray-700 algerya-sans-sc-font">Order Confirmation</h4>
                            <hr class="border-gray-100">
                            <div id="checkout-delivery-note" class="p-3 bg-gray-100 rounded-xl border border-gray-200 text-sm font-semibold text-gray-800"></div>
                            <div class="p-4 bg-white rounded-xl border border-gray-200 shadow-md">
                                <h5 class="text-base font-extrabold text-gray-800 algerya-sans-sc-font">Final Bill and Order Summary</h5>
                                <ul id="checkout-summary-list" class="text-xs text-gray-700 mt-3 space-y-1"></ul>
                                <div class="flex justify-between font-extrabold text-[#1A5693] mt-3 pt-3 border-t border-gray-200 text-lg">
                                    <span>TOTAL:</span>
                                    <span id="checkout-final-total">Rs. 0</span>
                                </div>
                            </div>
                            <div class="checkout-navigation">
                                <button type="button" id="back-to-payment-btn" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition duration-200 text-sm">Back</button>
                                <button type="submit" id="confirm-order-btn" class="px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition duration-200 algerya-sans-sc-font text-sm">Confirm Order and Place</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div id="checkout-success-page" class="hidden p-8 text-center">
                    <svg class="w-16 h-16 mx-auto text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="text-2xl font-bold mt-4 text-gray-800 algerya-sans-sc-font">ORDER CONFIRMED!</h3>
                    <div id="checkout-success-message" class="mt-2 text-gray-600 leading-relaxed"></div>
                    <p class="mt-4 text-xs text-gray-500 bg-gray-100 p-2 rounded-lg">Kindly keep a screenshot of this receipt if required in any case of order confirmation. <br> Contact: <strong>03096554421</strong></p>
                    <button id="close-success-btn" class="mt-6 px-6 py-2 bg-[#1A5693] text-white rounded-lg font-medium hover:bg-blue-700 transition duration-200 algerya-sans-sc-font">CLOSE</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="product-page" class="hidden min-h-screen bg-white">
        <!-- ... Product Popup Modal (Same as before) ... -->
        <div id="product-page-content" class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="p-3 flex justify-end">
                <button id="close-product-page-button" class="text-gray-500 hover:text-gray-900 transition p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div class="grid md:grid-cols-2 gap-8 lg:gap-12"> 
                <div class="space-y-3"> 
                    <div id="popup-image-carousel" class="w-full relative">
                        <div class="product-popup-image-container rounded-xl shadow-lg"> 
                            <img id="popup-main-image" src="" alt="Product Main Image">
                        </div>
                        <div id="popup-thumbnails" class="flex space-x-2 mt-3 overflow-x-auto justify-center"></div>
                    </div>
                </div>
                <div class="space-y-4"> 
                    <h2 id="popup-product-name" class="text-2xl font-extrabold text-[#1A5693] algerya-sans-sc-font"></h2>
                    <div class="flex items-center space-x-2">
                         <span id="popup-product-price" class="font-extrabold text-red-600 flex items-end space-x-1"></span>
                         <span id="popup-product-old-price" class="text-base text-gray-400 line-through"></span>
                    </div>
                    
                    <div id="popup-delivery-notice"></div>

                    <p id="popup-product-description" class="text-gray-700 leading-relaxed text-sm"></p>
                    
                    <div id="popup-product-features"></div>

                    <div class="flex flex-col space-y-3 pt-2">
                        <button id="popup-add-to-cart-btn" class="w-full bg-[#1A5693] text-white py-2.5 rounded-lg font-bold text-base hover:bg-blue-700 transition duration-200 shadow-lg flex items-center justify-center space-x-2 disabled:opacity-50" data-product-id="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.38a2 2 0 0 0 1.84-1.11L22 7H4"/></svg>
                            <span class="algerya-sans-sc-font">Add to cart</span>
                        </button>
                        <button id="popup-prebook-btn" class="hidden w-full bg-[#1A5693] text-white py-2.5 rounded-lg font-bold text-base hover:bg-blue-700 transition duration-200 shadow-lg flex items-center justify-center space-x-2">
                            <span class="algerya-sans-sc-font">Pre-book Now</span>
                        </button>
                        <button id="popup-free-preview-btn" class="w-full bg-gray-200 text-gray-800 py-2.5 rounded-lg font-bold text-base hover:bg-gray-300 transition duration-200 shadow-md flex items-center justify-center space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                            <span class="algerya-sans-sc-font">Click for free preview</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Arrival Modal Logic -->
    <div id="new-arrival-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-[100] flex items-center justify-center p-4">
        <!-- ... New Arrival Popup (Same as before) ... -->
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-sm sm:max-w-md transform transition-all duration-300 scale-100">
            <div class="relative">
                <button id="close-arrival-modal" class="absolute top-2 right-2 text-gray-500 hover:text-gray-900 bg-white rounded-full p-1 z-10 shadow-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
                <div class="p-6 text-center">
                    <h2 class="text-2xl font-extrabold text-red-600 algerya-sans-sc-font mb-2 animate-pulse">JUST ARRIVED ORDER TODAY!</h2>
                    <div class="bg-gray-100 rounded-lg p-4 mb-4">
                        <img src="https://i.imgur.com/cHK9DcE.jpeg" alt="New Arrival" class="w-full h-48 object-contain mx-auto rounded-lg">
                    </div>
                    <h3 class="text-xl font-bold text-[#1A5693] algerya-sans-sc-font mb-1">MIND YOUR MINORS BLOCK 3</h3>
                    <p class="text-gray-600 text-sm mb-4">The wait is over! Get your hands on the latest Block 3 notes for 1st Year.</p>
                    <button id="view-new-arrival-btn" class="w-full bg-[#1A5693] text-white py-3 rounded-lg font-bold text-base hover:bg-blue-700 transition duration-200 shadow-lg algerya-sans-sc-font">
                        VIEW PRODUCT
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Custom alert/popup replacement function
        function displayCustomAlert(message) {
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-70 z-[1000] flex items-center justify-center p-4';
            popup.innerHTML = `
                <div class="bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full text-center">
                    <h5 class="text-xl font-bold text-red-600 mb-4 algerya-sans-sc-font">Notification</h5>
                    <p class="text-gray-700 mb-6">${message}</p>
                    <button onclick="this.closest('.fixed').remove()" class="px-6 py-2 bg-[#1A5693] text-white rounded-lg font-bold hover:bg-blue-700 algerya-sans-sc-font">OK</button>
                </div>
            `;
            document.body.appendChild(popup);
        }

        const BIN_ID = '6916abbf43b1c97be9ac64e8';
        const READ_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}/latest`;
        const WRITE_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}`;
        const API_KEY = '$2a$10$c2jwTEMgLn/n1ZXEL5qWiOTw4f6Mqr1r1Qd0ah0khbqTrChXEog8u'; 

        let rollNumberDataFromBackend = {};
        let isBackendReady = false;
        
        async function fetchRollNumberData() {
            try {
                const response = await fetch(READ_URL); 
                if (!response.ok) throw new Error(`Backend responded with status: ${response.status}`);
                
                const data = await response.json();
                if (data.record && data.record.available_rolls) {
                    rollNumberDataFromBackend = data.record;
                    isBackendReady = true;
                } 
            } catch (error) {
                console.error('Error fetching roll data:', error);
                isBackendReady = false;
            }
        }

        // ... (Remaining Logic for Roll Number, Copy Number etc) ...
        function copyPaymentNumber() {
            const number = '03096554421';
            const tempInput = document.createElement('input');
            tempInput.value = number;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                displayCustomAlert('Number copied to clipboard!');
            } catch (err) {
                displayCustomAlert('Failed to copy. Manually copy: 03096554421');
            }
            document.body.removeChild(tempInput);
        }
        
        function getRollNumberStatus(rollNumber) {
            const num = parseInt(rollNumber);
            if (isNaN(num)) return { isValid: false, message: "Please enter a valid number." };
            if (!isBackendReady || !rollNumberDataFromBackend.blocked_rolls) return { isValid: false, message: "Verification server is not ready." };
            if (rollNumberDataFromBackend.blocked_rolls.includes(num)) return { isValid: false, message: "This roll number is not eligible." };
            if (rollNumberDataFromBackend.used_rolls.includes(num) || !rollNumberDataFromBackend.available_rolls.includes(num)) return { isValid: false, message: "Already used or invalid." };
            return { isValid: true, message: "Roll Number is valid." };
        }

        async function updateBackendWithUsedRollNumber(usedRollNumber) {
            const numToRemove = parseInt(usedRollNumber);
            if (isNaN(numToRemove) || !isBackendReady) return;
            const newAvailableRolls = rollNumberDataFromBackend.available_rolls.filter(roll => roll !== numToRemove);
            const newUsedRolls = [...rollNumberDataFromBackend.used_rolls, numToRemove];
            const payload = { ...rollNumberDataFromBackend, available_rolls: newAvailableRolls, used_rolls: newUsedRolls };
            try {
                await fetch(WRITE_URL, { method: 'PUT', headers: { 'Content-Type': 'application/json', 'X-Master-Key': API_KEY, 'X-Bin-Versioning': 'false' }, body: JSON.stringify(payload) });
                rollNumberDataFromBackend = payload;
            } catch (error) { console.error('Error updating backend:', error); }
        }

        const CITIES_LIST = ['Lahore', 'Faisalabad', 'Rawalpindi', 'Islamabad', 'Multan', 'Karachi', 'Peshawar', 'Quetta', 'Other'].sort();
        const calculateDeliveryCharge = (city) => city === 'Lahore' ? 100 : 200;

        document.addEventListener('DOMContentLoaded', () => {
             fetchRollNumberData();
             
             // Products Data - Updated Image for ID 4
             const products = [
                { id: 1, name: "BLOCK 2 FLASHCARDS", price: 900, oldPrice: 1100, year: 1, isPrebook: false, images: ["https://i.imgur.com/c4XSHmA.jpeg"], description: "High-yield flashcards...", previewLink: "#" },
                { id: 2, name: "MIND YOUR MINORS - BLOCK 5", price: 500, oldPrice: null, year: 2, isPrebook: false, images: ["https://i.imgur.com/mTnWoeB.png"], description: "Get ready to ace...", previewLink: "#" },
                { id: 3, name: "MIND YOUR MINORS - BLOCK 6", price: 700, oldPrice: 1500, year: 2, isPrebook: false, images: ["https://i.imgur.com/wLiYfOr.jpeg"], description: "The newly launched...", previewLink: "#" },
                { id: 4, name: "MIND YOUR MINORS BLOCK 3", price: 700, oldPrice: null, year: 1, isPrebook: false, images: ["https://i.imgur.com/cHK9DcE.jpeg", "https://i.imgur.com/rmStT8a.png"], description: "The newly launched...", previewLink: "#" }
            ];
             
             // Cart Logic
             let cart = [];
             const cartItemsContainer = document.getElementById('cart-items-container');
             const emptyCartMessage = document.getElementById('empty-cart-message');
             const cartModal = document.getElementById('cart-modal');
             const cartModalOverlay = document.getElementById('cart-modal-overlay');
             
             const renderCart = () => {
                cartItemsContainer.innerHTML = '';
                emptyCartMessage.classList.toggle('hidden', cart.length > 0);
                let subtotal = 0;
                cart.forEach(item => {
                    subtotal += item.price * item.quantity;
                    cartItemsContainer.insertAdjacentHTML('beforeend', `
                        <div class="flex items-center space-x-3 p-2 cart-item-card rounded-xl">
                            <div class="flex-shrink-0 w-10 h-10 bg-gray-200 rounded-lg overflow-hidden"><img src="${item.image}" class="w-full h-full object-contain"></div>
                            <div class="flex-grow">
                                <p class="text-xs font-semibold text-gray-800">${item.name}</p>
                                <p class="text-[0.65rem] text-red-500 font-bold">Rs. ${item.price}</p>
                            </div>
                            <div class="flex items-center space-x-1">
                                <button onclick="updateQuantity(${item.productId}, -1)" class="w-5 h-5 bg-gray-200 rounded-full text-xs">-</button>
                                <span class="w-3 text-center text-xs font-semibold">${item.quantity}</span>
                                <button onclick="updateQuantity(${item.productId}, 1)" class="w-5 h-5 bg-[#E0F4FF] rounded-full text-xs">+</button>
                            </div>
                        </div>`);
                });
                document.getElementById('cart-subtotal').textContent = `Rs. ${subtotal}`;
                document.getElementById('cart-total').textContent = `Rs. ${subtotal}`;
                document.querySelectorAll('[id$="-cart-count"]').forEach(el => el.textContent = cart.reduce((a,b)=>a+b.quantity,0));
                document.getElementById('proceed-to-checkout-btn').disabled = cart.length === 0;
             };
             
             window.updateQuantity = (id, delta) => {
                 const idx = cart.findIndex(i => i.productId === id);
                 if (idx > -1) {
                     cart[idx].quantity += delta;
                     if (cart[idx].quantity <= 0) cart.splice(idx, 1);
                     renderCart();
                 }
             };

             const addToCart = (id) => {
                 const pid = parseInt(id);
                 const p = products.find(x => x.id === pid);
                 if (!p) return;
                 const existing = cart.find(x => x.productId === pid);
                 if (existing) existing.quantity++;
                 else cart.push({ productId: pid, name: p.name, price: p.price, quantity: 1, image: p.images[0] });
                 renderCart();
                 cartModalOverlay.classList.remove('hidden');
                 void cartModal.offsetWidth;
                 cartModal.classList.remove('scale-95', 'opacity-0');
             };

             document.getElementById('close-cart-button').addEventListener('click', () => {
                 cartModal.classList.add('scale-95', 'opacity-0');
                 setTimeout(() => cartModalOverlay.classList.add('hidden'), 300);
             });
             
             document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                 btn.addEventListener('click', (e) => {
                     e.stopPropagation();
                     addToCart(e.currentTarget.dataset.productId);
                 });
             });
             
             // Filter Logic
             const filterButtons = document.querySelectorAll('.filter-text-button');
             const productCards = document.querySelectorAll('.product-card');
             
             filterButtons.forEach(btn => {
                 btn.addEventListener('click', () => {
                     filterButtons.forEach(b => b.classList.remove('active'));
                     btn.classList.add('active');
                     
                     const target = btn.dataset.year;
                     productCards.forEach(card => {
                        const isVisible = target === 'all' || card.dataset.year === target;
                        card.classList.toggle('hidden', !isVisible);
                        if(isVisible) {
                            card.classList.remove('product-slide-up');
                            void card.offsetWidth;
                            card.classList.add('product-slide-up');
                        }
                     });
                 });
             });

             // Hero Tab Logic
             const tabs = document.querySelectorAll('.hero-tab-card');
             const panels = document.querySelectorAll('.tab-panel');
             tabs.forEach(tab => {
                 tab.addEventListener('click', () => {
                     tabs.forEach(t => t.classList.remove('active-red', 'active-blue', 'active-indigo'));
                     const color = tab.dataset.color;
                     tab.classList.add(`active-${color}`);
                     
                     panels.forEach(p => {
                         p.classList.add('hidden'); 
                         p.classList.remove('active');
                     });
                     const targetPanel = document.getElementById(`panel-${tab.dataset.target}`);
                     targetPanel.classList.remove('hidden');
                     targetPanel.classList.add('active');
                     targetPanel.classList.remove('animate-fade-right');
                     void targetPanel.offsetWidth;
                     targetPanel.classList.add('animate-fade-right');
                 });
             });

             // New Arrival Modal
             setTimeout(() => document.getElementById('new-arrival-modal').classList.remove('hidden'), 1000);
             document.getElementById('close-arrival-modal').addEventListener('click', () => document.getElementById('new-arrival-modal').classList.add('hidden'));
             document.getElementById('view-new-arrival-btn').addEventListener('click', () => {
                 document.getElementById('new-arrival-modal').classList.add('hidden');
                 // Logic to open product modal would go here, reusing existing modal code
             });
             
             // Initialize
             document.getElementById('filter-all').click();
        });
    </script>
</body>
</html>
