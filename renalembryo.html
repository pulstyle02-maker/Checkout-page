<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embryology: Urogenital System Quiz</title>
    <style>
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --success: #10b981;
            --error: #ef4444;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #111827;
            --text-sub: #6b7280;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        /* Container & Card */
        .quiz-container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            max-height: 95vh;
        }

        /* Header */
        .header {
            padding: 1.5rem;
            background: var(--primary);
            color: white;
            text-align: center;
        }

        .header h1 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .progress-bar-bg {
            background: rgba(255, 255, 255, 0.3);
            height: 6px;
            border-radius: 3px;
            width: 100%;
            margin-top: 10px;
        }

        .progress-bar-fill {
            background: #ffffff;
            height: 100%;
            border-radius: 3px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .stats {
            font-size: 0.875rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        /* Question Area */
        .scroll-area {
            overflow-y: auto;
            padding: 1.5rem;
            flex-grow: 1;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            color: var(--text-main);
        }

        /* Options */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option-btn {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            text-align: left;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-main);
            position: relative;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: #eef2ff;
        }

        .option-btn.correct {
            border-color: var(--success);
            background: #ecfdf5;
            color: #065f46;
        }

        .option-btn.wrong {
            border-color: var(--error);
            background: #fef2f2;
            color: #991b1b;
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* Explanation */
        .explanation {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f8fafc;
            border-left: 4px solid var(--primary);
            border-radius: 4px;
            display: none;
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-sub);
        }

        .explanation strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-main);
        }

        /* Footer */
        .footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            background: white;
        }

        .next-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            display: none;
        }

        .next-btn:hover {
            background: var(--primary-dark);
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
            padding: 2rem;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .score-number {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .score-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        .restart-btn {
            margin-top: 1rem;
            background: var(--text-main);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        /* Mobile Typography adjustments */
        @media (max-width: 480px) {
            .header h1 { font-size: 1.1rem; }
            .question-text { font-size: 1rem; }
            .option-btn { padding: 0.875rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <!-- Quiz Screen -->
    <div id="quiz-screen">
        <div class="header">
            <h1>Urogenital Embryology</h1>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="progress-fill"></div>
            </div>
            <div class="stats">
                Question <span id="current-q">1</span> of <span id="total-q">60</span>
            </div>
        </div>

        <div class="scroll-area">
            <div class="question-text" id="question-text">
                <!-- Question goes here -->
            </div>
            <div class="options-grid" id="options-container">
                <!-- Options generated by JS -->
            </div>
            <div class="explanation" id="explanation">
                <!-- Explanation text -->
            </div>
        </div>

        <div class="footer">
            <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next Question</button>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="results-screen">
        <div class="score-circle">
            <span class="score-number" id="final-score">0</span>
            <span class="score-label">Score</span>
        </div>
        <h2>Quiz Completed!</h2>
        <p style="margin: 1rem 0; color: var(--text-sub);">Based on Chapter 16 Urogenital System</p>
        <button class="restart-btn" onclick="location.reload()">Restart Quiz</button>
    </div>
</div>

<script>
    // Data Source: 60 Questions based on the text provided
    const quizData = [
        {
            question: "Embryologically and anatomically, the urinary and genital systems are intimately interwoven. Both develop from a common mesodermal ridge known as:",
            options: [
                "Paraxial mesoderm",
                "Lateral plate mesoderm",
                "Intermediate mesoderm",
                "Splanchnic mesoderm"
            ],
            correct: 2,
            explanation: "The text states: 'Both develop from a common mesodermal ridge (intermediate mesoderm) along the posterior wall of the abdominal cavity.'"
        },
        {
            question: "Initially, the excretory ducts of both the urinary and genital systems enter a common cavity called the:",
            options: [
                "Allantois",
                "Cloaca",
                "Urogenital sinus",
                "Anal canal"
            ],
            correct: 1,
            explanation: "The text states: '...initially, the excretory ducts of both systems enter a common cavity, the cloaca.'"
        },
        {
            question: "Which of the following represents the correct cranial-to-caudal sequence of the three kidney systems formed during intrauterine life?",
            options: [
                "Mesonephros, Pronephros, Metanephros",
                "Pronephros, Metanephros, Mesonephros",
                "Pronephros, Mesonephros, Metanephros",
                "Metanephros, Mesonephros, Pronephros"
            ],
            correct: 2,
            explanation: "The text states: 'Three slightly overlapping kidney systems are formed in a cranial-to-caudal sequence...: the pronephros, mesonephros, and metanephros.'"
        },
        {
            question: "At the beginning of the fourth week, the pronephros is represented by:",
            options: [
                "12 or more generations of tubules",
                "7 to 10 solid cell groups in the cervical region",
                "A large ovoid organ on each side of the midline",
                "Excretory units from the upper thoracic segments"
            ],
            correct: 1,
            explanation: "The text states: 'At the beginning of the fourth week, the pronephros is represented by 7 to 10 solid cell groups in the cervical region.'"
        },
        {
            question: "When do all indications of the pronephric system disappear?",
            options: [
                "By the end of the fourth week",
                "By the middle of the second month",
                "By the fifth week",
                "At birth"
            ],
            correct: 0,
            explanation: "The text states: 'By the end of the fourth week, all indications of the pronephric system have disappeared.'"
        },
        {
            question: "The mesonephros and mesonephric ducts are derived from intermediate mesoderm from which segments?",
            options: [
                "Cervical to upper thoracic",
                "Upper thoracic to upper lumbar (L3)",
                "Lower lumbar to sacral",
                "Thoracic to sacral"
            ],
            correct: 1,
            explanation: "The text states: 'The mesonephros and mesonephric ducts are derived from intermediate mesoderm from upper thoracic to upper lumbar (L3) segments.'"
        },
        {
            question: "In the mesonephros, the excretory tubules form an S-shaped loop and acquire a tuft of capillaries that will form a glomerulus at which extremity?",
            options: [
                "Lateral extremity",
                "Medial extremity",
                "Distal extremity",
                "Caudal extremity"
            ],
            correct: 1,
            explanation: "The text states: '...acquire a tuft of capillaries that will form a glomerulus at their medial extremity.'"
        },
        {
            question: "In the mesonephros, the longitudinal collecting duct is also known as:",
            options: [
                "The pronephric duct",
                "The paramesonephric duct",
                "The metanephric duct",
                "The mesonephric or wolffian duct"
            ],
            correct: 3,
            explanation: "The text states: 'Laterally, the tubule enters the longitudinal collecting duct known as the mesonephric or wolffian duct.'"
        },
        {
            question: "By the middle of the second month, the mesonephros forms a large ovoid organ. The ridge formed by both the mesonephros and the developing gonad is known as:",
            options: [
                "The gonadal ridge",
                "The urogenital ridge",
                "The nephrogenic cord",
                "The mesonephric ridge"
            ],
            correct: 1,
            explanation: "The text states: 'Since the developing gonad is on its medial side, the ridge formed by both organs is known as the urogenital ridge.'"
        },
        {
            question: "Regarding the fate of the mesonephric tubules in the male:",
            options: [
                "They all disappear completely.",
                "They persist and form the ureter.",
                "A few of the caudal tubules persist and participate in formation of the genital system.",
                "The cranial tubules persist while the caudal ones degenerate."
            ],
            correct: 2,
            explanation: "The text states: 'In the male, a few of the caudal tubules and the mesonephric duct persist and participate in formation of the genital system...'"
        },
        {
            question: "The third urinary organ, the metanephros or permanent kidney, appears in the:",
            options: [
                "Third week",
                "Fourth week",
                "Fifth week",
                "Second month"
            ],
            correct: 2,
            explanation: "The text states: 'The third urinary organ, the metanephros or permanent kidney, appears in the fifth week.'"
        },
        {
            question: "Collecting ducts of the permanent kidney develop from the:",
            options: [
                "Metanephric mesoderm",
                "Ureteric bud",
                "Mesonephric excretory tubules",
                "Paramesonephric duct"
            ],
            correct: 1,
            explanation: "The text states: 'Collecting ducts of the permanent kidney develop from the ureteric bud...'"
        },
        {
            question: "The ureteric bud is an outgrowth of the:",
            options: [
                "Cloaca",
                "Metanephric blastema",
                "Mesonephric duct",
                "Allantois"
            ],
            correct: 2,
            explanation: "The text states: '...the ureteric bud, an outgrowth of the mesonephric duct close to its entrance to the cloaca.'"
        },
        {
            question: "Which of the following structures is NOT derived from the ureteric bud?",
            options: [
                "Ureter",
                "Renal pelvis",
                "Major and minor calyces",
                "Nephrons"
            ],
            correct: 3,
            explanation: "The text states: 'The ureteric bud gives rise to the ureter, the renal pelvis, the major and minor calyces, and approximately 1 to 3 million collecting tubules.' Nephrons are derived from metanephric mesoderm."
        },
        {
            question: "Collecting tubules of the fifth and successive generations elongate considerably and converge on the minor calyx, forming the:",
            options: [
                "Major calyx",
                "Renal pelvis",
                "Renal pyramid",
                "Bowman's capsule"
            ],
            correct: 2,
            explanation: "The text states: '...collecting tubules of the fifth and successive generations elongate considerably and converge on the minor calyx, forming the renal pyramid.'"
        },
        {
            question: "The excretory units (nephrons) of the permanent kidney develop from:",
            options: [
                "The ureteric bud",
                "The metanephric mesoderm",
                "The mesonephric duct",
                "The intermediate mesoderm of the cervical region"
            ],
            correct: 1,
            explanation: "The text states: 'Its excretory units develop from metanephric mesoderm...'"
        },
        {
            question: "Under the inductive influence of the collecting tubule, cells of the metanephric tissue cap form small vesicles called:",
            options: [
                "Bowman's capsules",
                "Renal vesicles",
                "Glomeruli",
                "Nephrotomes"
            ],
            correct: 1,
            explanation: "The text states: 'Under the inductive influence of the tubule, cells of the tissue cap form small vesicles, the renal vesicles...'"
        },
        {
            question: "In the development of the nephron, the renal vesicles give rise to:",
            options: [
                "Straight tubules",
                "Small S-shaped tubules",
                "Collecting ducts",
                "Major calyces"
            ],
            correct: 1,
            explanation: "The text states: '...the renal vesicles, which in turn give rise to small S-shaped tubules.'"
        },
        {
            question: "The proximal end of each nephron forms:",
            options: [
                "The loop of Henle",
                "The distal convoluted tubule",
                "Bowman's capsule",
                "The collecting tubule"
            ],
            correct: 2,
            explanation: "The text states: 'The proximal end of each nephron forms Bowman's capsule, which is deeply indented by a glomerulus.'"
        },
        {
            question: "The kidney develops from two sources. Which pairing is correct?",
            options: [
                "Metanephric mesoderm (Collecting system) and Ureteric bud (Excretory units)",
                "Metanephric mesoderm (Excretory units) and Ureteric bud (Collecting system)",
                "Mesonephric duct (Excretory units) and Metanephric mesoderm (Collecting system)",
                "Pronephros (Excretory units) and Mesonephros (Collecting system)"
            ],
            correct: 1,
            explanation: "The text states: 'Hence, the kidney develops from two sources: (1) metanephric mesoderm, which provides excretory units and (2) the ureteric bud, which gives rise to the collecting system.'"
        },
        {
            question: "Differentiation of the kidney involves epithelial mesenchymal interactions. The mesenchyme expresses which transcription factor that makes it competent to respond to induction?",
            options: [
                "GDNF",
                "WT1",
                "PAX2",
                "WNT4"
            ],
            correct: 1,
            explanation: "The text states: 'The mesenchyme expresses WT1, a transcription factor that makes this tissue competent to respond to induction by the ureteric bud.'"
        },
        {
            question: "WT1 regulates the production of which factors by the mesenchyme?",
            options: [
                "WNT9B and WNT6",
                "FGF2 and BMP7",
                "GDNF and HGF",
                "RET and MET"
            ],
            correct: 2,
            explanation: "The text states: 'WT1 also regulates production of glial-derived neurotrophic factor (GDNF) and hepatocyte growth factor (HGF... by the mesenchyme.'"
        },
        {
            question: "The receptors RET and MET are synthesized by the:",
            options: [
                "Mesenchyme of the metanephric blastema",
                "Epithelium of the ureteric buds",
                "Glomerular capillaries",
                "Surrounding visceral mesoderm"
            ],
            correct: 1,
            explanation: "The text states: 'The tyrosine kinase receptors RET, for GDNF, and MET, for HGF, are synthesized by the epithelium of the ureteric buds...'"
        },
        {
            question: "Ureteric buds induce the mesenchyme via which growth factors to block apoptosis and stimulate proliferation?",
            options: [
                "WNT9B and WNT6",
                "GDNF and HGF",
                "FGF2 and BMP7",
                "PAX2 and WNT4"
            ],
            correct: 2,
            explanation: "The text states: 'In turn, the buds induce the mesenchyme via fibroblast growth factor 2 (FGF2) and bone morphogenetic protein 7 (BMP7)... Both of these growth factors block apoptosis and stimulate proliferation...'"
        },
        {
            question: "Conversion of the mesenchyme to an epithelium for nephron formation is mediated by ureteric buds through expression of:",
            options: [
                "WT1 and PAX2",
                "WNT9B and WNT6",
                "FGF2 and BMP7",
                "RET and MET"
            ],
            correct: 1,
            explanation: "The text states: 'Conversion of the mesenchyme to an epithelium for nephron formation is also mediated by the ureteric buds through expression of WNT9B and WNT6...'"
        },
        {
            question: "WNT9B and WNT6 upregulate which genes in the metanephric mesenchyme?",
            options: [
                "WT1 and GDNF",
                "PAX2 and WNT4",
                "FGF2 and BMP7",
                "RET and MET"
            ],
            correct: 1,
            explanation: "The text states: '...which upregulate PAX2 and WNT4 in the metanephric mesenchyme.'"
        },
        {
            question: "Which gene promotes condensation of the mesenchyme preparatory to tubule formation?",
            options: [
                "WNT4",
                "PAX2",
                "WT1",
                "BMP7"
            ],
            correct: 1,
            explanation: "The text states: 'PAX2 promotes condensation of the mesenchyme preparatory to tubule formation...'"
        },
        {
            question: "Which gene causes the condensed mesenchyme to epithelialize and form tubules?",
            options: [
                "WNT4",
                "PAX2",
                "GDNF",
                "FGF2"
            ],
            correct: 0,
            explanation: "The text states: '...while WNT4 causes the condensed mesenchyme to epithelialize and form tubules.'"
        },
        {
            question: "During kidney differentiation, modifications in the extracellular matrix occur. Fibronectin, collagen I, and collagen III are replaced with:",
            options: [
                "Syndecan and E-cadherin",
                "Laminin and type IV collagen",
                "Laminin and type I collagen",
                "Fibronectin and type IV collagen"
            ],
            correct: 1,
            explanation: "The text states: 'Thus, fibronectin, collagen I, and collagen III are replaced with laminin and type IV collagen...'"
        },
        {
            question: "Wilms' tumor is a cancer of the kidneys that is due to mutations in the WT1 gene on:",
            options: [
                "11p13",
                "10q24",
                "4p16",
                "13q14"
            ],
            correct: 0,
            explanation: "The text states: 'Wilms’ tumor is due to mutations in the WT1 gene on 11p13...'"
        },
        {
            question: "WAGR syndrome is characterized by Wilms' tumor, aniridia, gonadoblastomas, and:",
            options: [
                "Renal failure",
                "Mental retardation (intellectual disability)",
                "Ambiguous genitalia",
                "Limb defects"
            ],
            correct: 1,
            explanation: "The text states: 'WAGR syndrome is characterized by Wilms’ tumor, aniridia, gonadoblastomas... and mental retardation (intellectual disability).'"
        },
        {
            question: "Denys-Drash syndrome consists of:",
            options: [
                "Renal failure, ambiguous genitalia, and Wilms' tumor",
                "Wilms' tumor, aniridia, and gonadoblastomas",
                "Renal cysts, obesity, and intellectual disability",
                "Renal cysts, hydrocephalus, and cleft palate"
            ],
            correct: 0,
            explanation: "The text states: 'Similarly, Denys-Drash syndrome consists of renal failure, ambiguous genitalia, and Wilms’ tumor.'"
        },
        {
            question: "Multicystic dysplastic kidney is an example of renal dysplasia in which:",
            options: [
                "Numerous cysts form from all segments of the nephron.",
                "Nephrons fail to develop and the ureteric bud fails to branch.",
                "The kidney becomes very large and causes renal failure in infancy.",
                "The ureteric bud splits early."
            ],
            correct: 1,
            explanation: "The text states: 'Nephrons fail to develop, and the ureteric bud fails to branch, so that the collecting ducts never form.'"
        },
        {
            question: "Renal agenesis may arise if the interaction between the metanephric mesoderm and the ureteric bud fails to occur. Mutations in which gene responsible for Townes-Brocks syndrome can cause this?",
            options: [
                "PAX2",
                "EYA1",
                "SALL1",
                "WT1"
            ],
            correct: 2,
            explanation: "The text states: 'Examples include the gene SALL1, responsible for Townes-Brocks syndrome...'"
        },
        {
            question: "Potter sequence is characterized by anuria, hypoplastic lungs, and:",
            options: [
                "Polyhydramnios",
                "Oligohydramnios",
                "Ambiguous genitalia",
                "Hydrocephalus"
            ],
            correct: 1,
            explanation: "The text states: 'The baby presents with Potter sequence, characterized by anuria, oligohydramnios (decreased volume of amniotic fluid), and hypoplastic lungs...'"
        },
        {
            question: "In Autosomal Recessive Polycystic Kidney Disease (ARPKD), cysts form from:",
            options: [
                "All segments of the nephron",
                "The collecting ducts",
                "The proximal convoluted tubules",
                "The loop of Henle"
            ],
            correct: 1,
            explanation: "The text states: 'Autosomal recessive polycystic kidney disease (ARPKD)... is a progressive disorder in which cysts form from collecting ducts.'"
        },
        {
            question: "In Autosomal Dominant Polycystic Kidney Disease (ADPKD), cysts form from:",
            options: [
                "Collecting ducts only",
                "Proximal tubules only",
                "All segments of the nephron",
                "Ureteric buds"
            ],
            correct: 2,
            explanation: "The text states: 'In autosomal dominant polycystic kidney disease (ADPKD), cysts form from all segments of the nephron...'"
        },
        {
            question: "Polycystic kidney diseases are linked to mutations in genes that encode proteins localized in:",
            options: [
                "Mitochondria",
                "Cilia",
                "Golgi apparatus",
                "Ribosomes"
            ],
            correct: 1,
            explanation: "The text states: 'Both types of disease are linked to mutations in genes that encode proteins localized in cilia and that are important for ciliary function.'"
        },
        {
            question: "Bardet-Biedl syndrome is a ciliopathy characterized by:",
            options: [
                "Renal cysts, hydrocephalus, and microphthalmia",
                "Renal cysts, obesity, intellectual disability, and limb defects",
                "Wilms' tumor, aniridia, and gonadoblastomas",
                "Renal failure, ambiguous genitalia, and Wilms' tumor"
            ],
            correct: 1,
            explanation: "The text states: 'Bardet-Biedl syndrome, characterized by renal cysts, obesity, intellectual disability, and limb defects...'"
        },
        {
            question: "Meckel-Gruber syndrome is characterized by:",
            options: [
                "Renal cysts, obesity, and limb defects",
                "Renal cysts, hydrocephalus, microphthalmia, cleft palate, absence of olfactory tract, and polydactyly",
                "Anuria, oligohydramnios, and hypoplastic lungs",
                "Ambiguous genitalia and renal failure"
            ],
            correct: 1,
            explanation: "The text states: 'Meckel-Gruber syndrome, characterized by renal cysts, hydrocephalus, microphthalmia, cleft palate, absence of the olfactory tract, and polydactyly.'"
        },
        {
            question: "Duplication of the ureter results from:",
            options: [
                "Failure of the ureteric bud to branch",
                "Early splitting of the ureteric bud",
                "Failure of the mesonephric duct to regress",
                "Abnormal induction of metanephric mesoderm"
            ],
            correct: 1,
            explanation: "The text states: 'Duplication of the ureter results from early splitting of the ureteric bud.'"
        },
        {
            question: "If a ureter is ectopic, it typically results from the development of two ureteric buds. The abnormal bud moves down with the:",
            options: [
                "Paramesonephric duct",
                "Mesonephric duct",
                "Metanephric blastema",
                "Urorectal septum"
            ],
            correct: 1,
            explanation: "The text states: 'One of the buds usually has a normal position, whereas the abnormal bud moves down together with the mesonephric duct.'"
        },
        {
            question: "The definitive kidney becomes functional near the:",
            options: [
                "10th week",
                "12th week",
                "16th week",
                "20th week"
            ],
            correct: 1,
            explanation: "The text states: 'The definitive kidney formed from the metanephros becomes functional near the 12th week.'"
        },
        {
            question: "During fetal life, the kidneys are not responsible for excretion of waste products, since this function is served by:",
            options: [
                "The liver",
                "The placenta",
                "The allantois",
                "The yolk sac"
            ],
            correct: 1,
            explanation: "The text states: 'During fetal life, the kidneys are not responsible for excretion of waste products, since the placenta serves this function.'"
        },
        {
            question: "During the fourth to seventh weeks of development, the cloaca divides into:",
            options: [
                "The urogenital sinus anteriorly and the anal canal posteriorly",
                "The urogenital sinus posteriorly and the anal canal anteriorly",
                "The bladder anteriorly and the urethra posteriorly",
                "The rectum anteriorly and the sinus posteriorly"
            ],
            correct: 0,
            explanation: "The text states: 'During the fourth to seventh weeks of development, the cloaca divides into the urogenital sinus anteriorly and the anal canal posteriorly.'"
        },
        {
            question: "The layer of mesoderm between the primitive anal canal and the urogenital sinus is called the:",
            options: [
                "Urogenital ridge",
                "Urorectal septum",
                "Perineal body",
                "Cloacal membrane"
            ],
            correct: 1,
            explanation: "The text states: 'The urorectal septum is a layer of mesoderm between the primitive anal canal and the urogenital sinus.'"
        },
        {
            question: "The tip of the urorectal septum will form the:",
            options: [
                "Anal canal",
                "Perineal body",
                "Glans penis",
                "Clitoris"
            ],
            correct: 1,
            explanation: "The text states: 'The tip of the septum will form the perineal body.'"
        },
        {
            question: "Three portions of the urogenital sinus can be distinguished. The upper and largest part is the:",
            options: [
                "Pelvic part",
                "Phallic part",
                "Urinary bladder",
                "Prostatic urethra"
            ],
            correct: 2,
            explanation: "The text states: 'Three portions of the urogenital sinus can be distinguished: The upper and largest part is the urinary bladder.'"
        },
        {
            question: "When the lumen of the allantois is obliterated, a thick fibrous cord remains called the:",
            options: [
                "Median umbilical ligament",
                "Medial umbilical ligament",
                "Lateral umbilical ligament",
                "Round ligament"
            ],
            correct: 0,
            explanation: "The text states: '...a thick fibrous cord, the urachus, remains... In the adult, it forms the median umbilical ligament.'"
        },
        {
            question: "The pelvic part of the urogenital sinus in the male gives rise to:",
            options: [
                "The penile urethra",
                "The prostatic and membranous parts of the urethra",
                "The bladder",
                "The ureters"
            ],
            correct: 1,
            explanation: "The text states: 'The next part is a rather narrow canal, the pelvic part of the urogenital sinus, which in the male gives rise to the prostatic and membranous parts of the urethra.'"
        },
        {
            question: "The phallic part of the urogenital sinus is flattened from side to side. As the genital tubercle grows, this part will be pulled:",
            options: [
                "Dorsally",
                "Ventrally",
                "Cranially",
                "Caudally"
            ],
            correct: 1,
            explanation: "The text states: '...as the genital tubercle grows, this part of the sinus will be pulled ventrally.'"
        },
        {
            question: "During differentiation of the cloaca, the caudal portions of the mesonephric ducts are absorbed into the wall of the urinary bladder. Consequently, the ureters enter the bladder:",
            options: [
                "Together with the mesonephric ducts",
                "Separately",
                "Via the allantois",
                "Through the urachus"
            ],
            correct: 1,
            explanation: "The text states: 'Consequently, the ureters, initially outgrowths from the mesonephric ducts, enter the bladder separately.'"
        },
        {
            question: "As a result of ascent of the kidneys, the orifices of the mesonephric ducts move close together to enter the prostatic urethra and in the male become the:",
            options: [
                "Ureters",
                "Ejaculatory ducts",
                "Seminal vesicles",
                "Prostatic ducts"
            ],
            correct: 1,
            explanation: "The text states: '...move close together to enter the prostatic urethra and in the male become the ejaculatory ducts.'"
        },
        {
            question: "The mucosa of the trigone of the bladder is initially formed by:",
            options: [
                "Endoderm",
                "Mesoderm",
                "Ectoderm",
                "Neural crest cells"
            ],
            correct: 1,
            explanation: "The text states: 'Since both the mesonephric ducts and ureters originate in the mesoderm, the mucosa of the bladder formed by incorporation of the ducts (the trigone of the bladder) is also mesodermal.'"
        },
        {
            question: "Eventually, the mesodermal lining of the trigone is replaced by:",
            options: [
                "Ectodermal epithelium",
                "Endodermal epithelium",
                "Paraxial mesoderm",
                "Neural crest"
            ],
            correct: 1,
            explanation: "The text states: 'With time, the mesodermal lining of the trigone is replaced by endodermal epithelium...'"
        },
        {
            question: "The epithelium of the urethra in both sexes originates in the:",
            options: [
                "Ectoderm",
                "Mesoderm",
                "Endoderm",
                "Intermediate mesoderm"
            ],
            correct: 2,
            explanation: "The text states: 'The epithelium of the urethra in both sexes originates in the endoderm...'"
        },
        {
            question: "The surrounding connective and smooth muscle tissue of the urethra is derived from:",
            options: [
                "Endoderm",
                "Somatic mesoderm",
                "Visceral mesoderm",
                "Paraxial mesoderm"
            ],
            correct: 2,
            explanation: "The text states: '...the surrounding connective and smooth muscle tissue is derived from visceral mesoderm.'"
        },
        {
            question: "In the male, the prostate gland is formed by buds from the:",
            options: [
                "Mesonephric duct",
                "Seminal vesicles",
                "Epithelium of the prostatic urethra",
                "Ureteric bud"
            ],
            correct: 2,
            explanation: "The text states: 'In the male, these buds [from epithelium of the prostatic urethra] form the prostate gland.'"
        },
        {
            question: "In the female, the cranial part of the urethra gives rise to the:",
            options: [
                "Urethral and paraurethral glands",
                "Bartholin's glands",
                "Clitoris",
                "Labia minora"
            ],
            correct: 0,
            explanation: "The text states: 'In the female, the cranial part of the urethra gives rise to the urethral and paraurethral glands.'"
        },
        {
            question: "Glomerular capillaries start to form by the:",
            options: [
                "5th week",
                "10th week",
                "12th week",
                "20th week"
            ],
            correct: 1,
            explanation: "The text states: '...differentiation of the glomerular capillaries, which start to form by the 10th week.'"
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    // Elements
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const explanationDiv = document.getElementById('explanation');
    const nextBtn = document.getElementById('next-btn');
    const progressFill = document.getElementById('progress-fill');
    const currentQSpan = document.getElementById('current-q');
    const totalQSpan = document.getElementById('total-q');
    const finalScoreSpan = document.getElementById('final-score');

    // Initialize
    function initQuiz() {
        totalQSpan.innerText = quizData.length;
        loadQuestion();
    }

    function loadQuestion() {
        const q = quizData[currentQuestionIndex];
        answered = false;
        
        // Update UI
        currentQSpan.innerText = currentQuestionIndex + 1;
        const progress = ((currentQuestionIndex) / quizData.length) * 100;
        progressFill.style.width = `${progress}%`;
        
        questionText.innerText = q.question;
        explanationDiv.style.display = 'none';
        nextBtn.style.display = 'none';
        optionsContainer.innerHTML = '';

        q.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.classList.add('option-btn');
            btn.innerText = opt;
            btn.onclick = () => selectOption(index, btn);
            optionsContainer.appendChild(btn);
        });
    }

    function selectOption(selectedIndex, btn) {
        if (answered) return;
        answered = true;

        const q = quizData[currentQuestionIndex];
        const allOptions = optionsContainer.children;

        // Highlight selected
        if (selectedIndex === q.correct) {
            btn.classList.add('correct');
            score++;
        } else {
            btn.classList.add('wrong');
            // Show correct answer
            allOptions[q.correct].classList.add('correct');
        }

        // Disable all
        for (let i = 0; i < allOptions.length; i++) {
            allOptions[i].disabled = true;
        }

        // Show explanation and next button
        explanationDiv.innerHTML = `<strong>Explanation:</strong> ${q.explanation}`;
        explanationDiv.style.display = 'block';
        nextBtn.style.display = 'inline-block';
        
        // Auto scroll to bottom
        setTimeout(() => {
            nextBtn.scrollIntoView({ behavior: 'smooth' });
        }, 100);
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizData.length) {
            loadQuestion();
            quizScreen.scrollTop = 0; // Scroll to top
        } else {
            showResults();
        }
    }

    function showResults() {
        quizScreen.style.display = 'none';
        resultsScreen.style.display = 'flex';
        finalScoreSpan.innerText = `${score} / ${quizData.length}`;
    }

    // Start
    initQuiz();

</script>
</body>
</html>
